

  CharCode

    ✓ has good values

  WinJS and ES6 Promises

    ✓ Promise.resolve

    ✓ new Promise

    ✓ 1. Uncaught TypeError: this._state.then is not a function

    ✓ 2. Uncaught TypeError: this._state.then is not a function

    ✓ 3. Uncaught TypeError: this._state.then is not a function

  TreeView - HeightMap

    ✓ simple

    ✓ onInsertItems at beginning

    ✓ onInsertItems in middle

    ✓ onInsertItems at end

    ✓ onRemoveItems at beginning

    ✓ onRemoveItems in middle

    ✓ onRemoveItems at end

    ✓ onRefreshItems at beginning

    ✓ onRefreshItems in middle

    ✓ onRefreshItems at end

    ✓ withItemsInRange

  Browsers

    ✓ all

  Keytar

    ✓ loads and is functional (102ms)

  Arrays

    ✓ findFirst

    ✓ stableSort

    ✓ mergeSort

    ✓ mergeSort, sorted array

    ✓ mergeSort, is stable

    ✓ mergeSort, many random numbers

    ✓ sortedDiff

    ✓ delta sorted arrays

    ✓ binarySearch

    ✓ distinct

    ✓ top

    ✓ topAsync

    ✓ coalesce

    ✓ coalesce - inplace

  RangeMap

    ✓ intersection

    ✓ multiIntersect

    ✓ consolidate

    ✓ empty

    ✓ length & count

    ✓ length & count #2

    ✓ length & count #3

    ✓ length & count #4

    ✓ insert

    ✓ delete

    ✓ insert & delete

    ✓ insert & delete #2

    ✓ insert & delete #3

    ✓ insert & delete #3
    indexAt, positionAt

      ✓ empty

      ✓ simple

      ✓ simple #2

      ✓ insert

      ✓ delete

      ✓ delete #2

  ScrollbarState

    ✓ inflates slider size

    ✓ inflates slider size with arrows

  Assert

    ✓ ok

  Collections

    ✓ forEach

    ✓ groupBy

    ✓ remove

  Decorators

    ✓ memoize should memoize methods

    ✓ memoize should memoize getters

    ✓ memoized property should not be enumerable

    ✓ memoized property should not be writable

  Color

    ✓ isLighterColor

    ✓ getLighterColor

    ✓ isDarkerColor

    ✓ getDarkerColor

    ✓ luminance

    ✓ blending
    HSLA

      ✓ HSLA.toRGBA

      ✓ HSLA.fromRGBA
    HSVA

      ✓ HSVA.toRGBA

      ✓ HSVA.fromRGBA

      ✓ Keep hue value when saturation is 0

      ✓ bug#36240
    Format
      CSS

        ✓ parseHex

  Hash

    ✓ string

    ✓ number

    ✓ boolean

    ✓ array

    ✓ object

  History Navigator

    ✓ create reduces the input to limit

    ✓ create sets the position to last

    ✓ last returns last element

    ✓ first returns first element

    ✓ next returns next element

    ✓ previous returns previous element

    ✓ next on last element returs null and remains on last

    ✓ previous on first element returs null and remains on first

    ✓ add reduces the input to limit

    ✓ adding existing element changes the position

    ✓ add resets the navigator to last

    ✓ adding an existing item changes the order

    ✓ clear

  keyCodes

    ✓ MAC binary encoding

    ✓ WINDOWS & LINUX binary encoding

  JSON - formatter

    ✓ object - single property

    ✓ object - multiple properties

    ✓ object - no properties 

    ✓ object - nesting

    ✓ array - single items

    ✓ array - multiple items

    ✓ array - no items

    ✓ array - nesting

    ✓ syntax errors

    ✓ empty lines

    ✓ single line comment

    ✓ block line comment

    ✓ single line comment on same line

    ✓ single line comment on same line 2

    ✓ block comment on same line

    ✓ block comment on same line advanced

    ✓ multiple block comments on same line

    ✓ multiple mixed comments on same line

    ✓ range

    ✓ range with existing indent

    ✓ range with existing indent - tabs

    ✓ block comment none-line breaking symbols

    ✓ line comment after none-line breaking symbols

  JSON - edits

    ✓ set property

    ✓ insert property

    ✓ remove property

    ✓ insert item to empty array

    ✓ insert item

    ✓ remove item in array with one item

    ✓ remove item in the middle of the array

    ✓ remove last item in the array

    ✓ remove last item in the array if ends with comma

    ✓ remove last item in the array if there is a comment in the beginning

  LinkedList

    ✓ Push/Iter

    ✓ Push/Remove

    ✓ Push/toArray

    ✓ unshift/Iter

    ✓ unshift/Remove

    ✓ unshift/toArray

  Map

    ✓ LinkedMap - Simple

    ✓ LinkedMap - Touch Old one

    ✓ LinkedMap - Touch New one

    ✓ LinkedMap - Touch Old two

    ✓ LinkedMap - Touch New two

    ✓ LinkedMap - Touch Old from middle

    ✓ LinkedMap - Touch New from middle

    ✓ LinkedMap - basics

    ✓ LinkedMap - LRU Cache simple

    ✓ LinkedMap - LRU Cache get

    ✓ LinkedMap - LRU Cache limit

    ✓ LinkedMap - LRU Cache limit with ratio

    ✓ LinkedMap - toJSON / fromJSON

    ✓ PathIterator

    ✓ TernarySearchTree - set

    ✓ TernarySearchTree - findLongestMatch

    ✓ TernarySearchTree - basics

    ✓ TernarySearchTree - delete & cleanup

    ✓ TernarySearchTree (PathSegments) - basics

    ✓ TernarySearchTree (PathSegments) - lookup

    ✓ TernarySearchTree (PathSegments) - superstr

    ✓ ResourceMap - basics

    ✓ ResourceMap - files (do NOT ignorecase)

  Marshalling

    ✓ RegExp

    ✓ URI

    ✓ Bug 16793:# in folder name => mirror models get out of sync

  UUID

    ✓ generation

    ✓ parse

  Types

    ✓ isFunction

    ✓ areFunctions

    ✓ isObject

    ✓ isEmptyObject

    ✓ isArray

    ✓ isString

    ✓ isNumber

    ✓ isUndefined

    ✓ isUndefinedOrNull

    ✓ validateConstraints

    ✓ create

  Objects

    ✓ equals

    ✓ mixin - array

    ✓ mixin - no overwrite

    ✓ cloneAndChange

    ✓ safeStringify

    ✓ distinct

  Strings

    ✓ equalsIgnoreCase

    ✓ beginsWithIgnoreCase

    ✓ compareIgnoreCase

    ✓ format

    ✓ overlap

    ✓ lcut

    ✓ pad

    ✓ escape

    ✓ startsWith

    ✓ endsWith

    ✓ ltrim

    ✓ rtrim

    ✓ trim

    ✓ trimWhitespace

    ✓ repeat

    ✓ lastNonWhitespaceIndex

    ✓ containsRTL

    ✓ containsEmoji

    ✓ isBasicASCII

    ✓ createRegExp

    ✓ regExpContainsBackreference

    ✓ getLeadingWhitespace

    ✓ fuzzyContains

    ✓ startsWithUTF8BOM

    ✓ stripUTF8BOM

    ✓ containsUppercaseCharacter

    ✓ containsUppercaseCharacter (ignoreEscapedChars)

    ✓ uppercaseFirstLetter

  Paths

    ✓ dirname

    ✓ normalize

    ✓ getRootLength

    ✓ basename

    ✓ join

    ✓ extname

    ✓ isUNC

    ✓ isValidBasename

    ✓ isAbsolute_win

    ✓ isAbsolute_posix

  URI

    ✓ file#toString

    ✓ URI.file (win-special)

    ✓ file#fsPath (win-special)

    ✓ URI#fsPath - no `fsPath` when no `path`

    ✓ http#toString

    ✓ http#toString, encode=FALSE

    ✓ with, identity

    ✓ with, changes

    ✓ with, remove components #8465

    ✓ with, validation

    ✓ parse

    ✓ parse, disallow //path when no authority

    ✓ URI#file, win-speciale

    ✓ VSCode URI module's driveLetterPath regex is incorrect, #32961

    ✓ URI#file, no path-is-uri check

    ✓ URI#file, always slash

    ✓ URI.toString, only scheme and query

    ✓ URI#toString, upper-case percent espaces

    ✓ URI#toString, lower-case windows drive letter

    ✓ URI#toString, escape all the bits

    ✓ URI#toString, don't encode port

    ✓ URI#toString, user information in authority

    ✓ correctFileUriToFilePath2

    ✓ URI - http, query & toString

    ✓ class URI cannot represent relative file paths #34449

    ✓ Ctrl click to follow hash query param url gets urlencoded #49628

    ✓ URI - (de)serialize

  Comparers

    ✓ compareFileNames

    ✓ compareFileExtensions

  Filters

    ✓ or

    ✓ PrefixFilter - case sensitive

    ✓ PrefixFilter - ignore case

    ✓ CamelCaseFilter

    ✓ CamelCaseFilter - #19256

    ✓ matchesContiguousSubString

    ✓ matchesSubString

    ✓ matchesSubString performance (#35346)

    ✓ WordFilter

    ✓ fuzzyScore, #23215

    ✓ fuzzyScore, #23332

    ✓ fuzzyScore, #23190

    ✓ fuzzyScore, #23581

    ✓ fuzzyScore, #23458

    ✓ fuzzyScore, #23746

    ✓ fuzzyScore

    ✓ fuzzyScore (first match can be weak)

    ✓ fuzzyScore, many matches

    ✓ fuzzyScore, issue #26423

    ✓ Fuzzy IntelliSense matching vs Haxe metadata completion, #26995

    ✓ Cannot set property '1' of undefined, #26511

    ✓ Vscode 1.12 no longer obeys 'sortText' in completion items (from language server), #26096

    ✓ topScore - fuzzyScore

    ✓ Unexpected suggestion scoring, #28791

    ✓ HTML closing tag proposal filtered out #38880

    ✓ fuzzyScoreGraceful

  Quick Open Scorer

    ✓ score (fuzzy)

    ✓ score (non fuzzy)

    ✓ scoreItem - matches are proper

    ✓ scoreItem - invalid input

    ✓ scoreItem - optimize for file paths

    ✓ scoreItem - avoid match scattering (bug #36119)

    ✓ scoreItem - prefers more compact matches

    ✓ scoreItem - proper target offset

    ✓ scoreItem - proper target offset #2

    ✓ scoreItem - proper target offset #3

    ✓ scoreItem - no match unless query contained in sequence

    ✓ compareItemsByScore - identity

    ✓ compareFilesByScore - basename prefix

    ✓ compareFilesByScore - basename camelcase

    ✓ compareFilesByScore - basename scores

    ✓ compareFilesByScore - path scores

    ✓ compareFilesByScore - prefer shorter basenames

    ✓ compareFilesByScore - prefer shorter basenames (match on basename)

    ✓ compareFilesByScore - prefer shorter paths

    ✓ compareFilesByScore - prefer shorter paths (bug #17443)

    ✓ compareFilesByScore - allow to provide fallback sorter (bug #31591)

    ✓ compareFilesByScore - prefer more compact camel case matches

    ✓ compareFilesByScore - prefer more compact matches (label)

    ✓ compareFilesByScore - prefer more compact matches (path)

    ✓ compareFilesByScore - prefer more compact matches (label and path)

    ✓ compareFilesByScore - avoid match scattering (bug #34210)

    ✓ compareFilesByScore - avoid match scattering (bug #21019 1.)

    ✓ compareFilesByScore - avoid match scattering (bug #21019 2.)

    ✓ compareFilesByScore - avoid match scattering (bug #26649)

    ✓ compareFilesByScore - avoid match scattering (bug #33247)

    ✓ compareFilesByScore - avoid match scattering (bug #33247 comment)

    ✓ compareFilesByScore - avoid match scattering (bug #36166)

    ✓ compareFilesByScore - avoid match scattering (bug #32918)

    ✓ compareFilesByScore - avoid match scattering (bug #14879)

    ✓ compareFilesByScore - avoid match scattering (bug #14727 1)

    ✓ compareFilesByScore - avoid match scattering (bug #14727 2)

    ✓ compareFilesByScore - avoid match scattering (bug #18381)

    ✓ compareFilesByScore - avoid match scattering (bug #35572)

    ✓ compareFilesByScore - avoid match scattering (bug #36810)

    ✓ compareFilesByScore - prefer shorter hit (bug #20546)

    ✓ compareFilesByScore - avoid match scattering (bug #12095)

    ✓ prepareSearchForScoring

  Octicon

    ✓ matchesFuzzzyOcticonAware

  Console

    ✓ getFirstFrame

  Flow

    ✓ loopSync

    ✓ loopByFunctionSync

    ✓ loopByFunctionAsync

    ✓ loopSyncErrorByThrow

    ✓ loopSyncErrorByCallback

    ✓ loopAsync

    ✓ loopAsyncErrorByCallback

    ✓ sequenceSync

    ✓ sequenceAsync

    ✓ sequenceSyncErrorByThrow

    ✓ sequenceSyncErrorByCallback

    ✓ sequenceAsyncErrorByThrow

    ✓ sequenceAsyncErrorByCallback

    ✓ syncChainedSequenceError

    ✓ tolerateBooleanResults

    ✓ loopTolerateBooleanResults

    ✓ parallel

    ✓ parallel - setTimeout

    ✓ parallel - with error

  Ports

    ✓ Finds a free port (no timeout)

  ID

    ✓ getMachineId

    ✓ getMac

  Stream

    ✓ readExactlyByFile - ANSI

    ✓ readExactlyByFile - empty

    ✓ readToMatchingString - ANSI

    ✓ readToMatchingString - empty

  IssueReporter

    ✓ sets defaults to include all data

    ✓ serializes model skeleton when no data is provided

    ✓ serializes GPU information when data is provided

    ✓ should normalize GitHub urls

    ✓ should have support for filing on extensions for bugs, performance issues, and feature requests

  Editor Core - Range

    ✓ empty range

    ✓ swap start and stop same line

    ✓ swap start and stop

    ✓ no swap same line

    ✓ no swap

    ✓ compareRangesUsingEnds

    ✓ containsPosition

    ✓ containsRange

    ✓ areIntersecting

  Replace Pattern test

    ✓ parse replace string

    ✓ replace has JavaScript semantics

    ✓ get replace string if given text is a complete match

    ✓ get replace string if match is sub-string of the text

    ✓ issue #19740 Find and replace capture group/backreference inserts `undefined` instead of empty string

  SnippetParser

    ✓ Scanner

    ✓ Parser, escaped

    ✓ Parser, text

    ✓ Parser, TM text

    ✓ Parser, placeholder

    ✓ Parser, literal code

    ✓ Parser, variables/tabstop

    ✓ Parser, variables/placeholder with defaults

    ✓ Parser, variable transforms

    ✓ Parser, placeholder transforms

    ✓ No way to escape forward slash in snippet regex #36715

    ✓ No way to escape forward slash in snippet format section #37562

    ✓ Parser, placeholder with choice

    ✓ Snippet choices: unable to escape comma and pipe, #31521

    ✓ Marker, toTextmateString()

    ✓ Marker, toTextmateString() <-> identity

    ✓ Parser, choise marker

    ✓ Backslash character escape in choice tabstop doesn't work #58494

    ✓ Parser, only textmate

    ✓ Parser, real world

    ✓ Parser, transform example

    ✓ Parser, default placeholder values

    ✓ Parser, default placeholder values and one transform

    ✓ Repeated snippet placeholder should always inherit, #31040

    ✓ backspace esapce in TM only, #16212

    ✓ colon as variable/placeholder value, #16717

    ✓ incomplete placeholder

    ✓ marker#len

    ✓ parser, parent node

    ✓ TextmateSnippet#enclosingPlaceholders

    ✓ TextmateSnippet#offset

    ✓ TextmateSnippet#placeholder

    ✓ TextmateSnippet#replace 1/2

    ✓ TextmateSnippet#replace 2/2

    ✓ Snippet order for placeholders, #28185

    ✓ Maximum call stack size exceeded, #28983

    ✓ Snippet can freeze the editor, #30407

    ✓ Snippets: make parser ignore `${0|choice|}`, #31599

    ✓ Transform -> FormatString#resolve

    ✓ Snippet variable transformation doesn't work if regex is complicated and snippet body contains '$$' #55627

    ✓ [BUG] HTML attribute suggestions: Snippet session does not have end-position set, #33147

    ✓ Snippet optional transforms are not applied correctly when reusing the same variable, #37702

    ✓ problem with snippets regex #40570

    ✓ Variable transformation doesn't work if undefined variables are used in the same snippet #51769

    ✓ Snippet parser freeze #53144

    ✓ snippets variable not resolved in JSON proposal #52931

    ✓ Mirroring sequence of nested placeholders not selected properly on backjumping #58736

  Token theme matching

    ✓ gives higher priority to deeper matches

    ✓ can match

  Token theme parsing

    ✓ can parse

  Token theme resolving

    ✓ strcmp works

    ✓ always has defaults

    ✓ respects incoming defaults 1

    ✓ respects incoming defaults 2

    ✓ respects incoming defaults 3

    ✓ respects incoming defaults 4

    ✓ respects incoming defaults 5

    ✓ can merge incoming defaults

    ✓ defaults are inherited

    ✓ same rules get merged

    ✓ rules are inherited 1

    ✓ rules are inherited 2

    ✓ custom colors are first in color map

  StandardAutoClosingPairConditional

    ✓ Missing notIn

    ✓ Empty notIn

    ✓ Invalid notIn

    ✓ notIn in strings

    ✓ notIn in comments

    ✓ notIn in regex

    ✓ notIn in strings nor comments

    ✓ notIn in strings nor regex

    ✓ notIn in comments nor regex

    ✓ notIn in strings, comments nor regex

  IntervalTree
    generated

      ✓ gen01

      ✓ gen02

      ✓ gen03

      ✓ gen04

      ✓ gen05

      ✓ gen06

      ✓ gen07

      ✓ gen08

      ✓ gen09

      ✓ gen10

      ✓ gen11

      ✓ gen12

      ✓ gen13

      ✓ gen14

      ✓ gen15

      ✓ gen16

      ✓ gen17

      ✓ gen18

      ✓ force delta overflow
    searching

      ✓ cormen 1->2

      ✓ cormen 4->8

      ✓ cormen 10->15

      ✓ cormen 21->25

      ✓ cormen 24->24

  IntervalTree

    ✓ nodeAcceptEdit

  Editor Core - Editor State

    ✓ empty editor state should be valid

    ✓ different model URIs should be invalid

    ✓ different model versions should be invalid

    ✓ different positions should be invalid

    ✓ different selections should be invalid

    ✓ different scroll positions should be invalid

  richEditBrackets

    ✓ findPrevBracketInToken one char 1

    ✓ findPrevBracketInToken one char 2

    ✓ findPrevBracketInToken one char 3

    ✓ findPrevBracketInToken more chars 1

    ✓ findPrevBracketInToken more chars 2

    ✓ findPrevBracketInToken more chars 3

    ✓ findNextBracketInToken one char

    ✓ findNextBracketInToken more chars

    ✓ findNextBracketInToken with emoty result

    ✓ issue #3894: [Handlebars] Curly braces edit issues

  OnEnter

    ✓ uses brackets

    ✓ uses regExpRules

  Editor ViewLayout - ViewLineParts

    ✓ Bug 9827:Overlapping inline decorations can cause wrong inline class to be applied

    ✓ issue #3462: no whitespace shown at the end of a decorated line

    ✓ issue #3661: Link decoration bleeds to next line when wrapping

    ✓ issue #37401: Allow both before and after decorations on empty line

    ✓ ViewLineParts

  Editor View - OverviewZoneManager

    ✓ pixel ratio 1, dom height 600

    ✓ pixel ratio 1, dom height 300

    ✓ pixel ratio 2, dom height 300

  CharacterClassifier

    ✓ works

  Editor Modes - Link Computer

    ✓ Null model

    ✓ Parsing

    ✓ issue #7855

  Editor ViewModel - PrefixSumComputer

    ✓ PrefixSumComputer

  Editor ViewLayout - WhitespaceComputer

    ✓ WhitespaceComputer

    ✓ WhitespaceComputer findInsertionIndex

    ✓ WhitespaceComputer changeWhitespaceAfterLineNumber & getFirstWhitespaceIndexAfterLineNumber

    ✓ WhitespaceComputer Bug

  Editor ViewLayout - LinesLayout

    ✓ LinesLayout 1

    ✓ LinesLayout 2

    ✓ LinesLayout getLineNumberAtOrAfterVerticalOffset

    ✓ LinesLayout getCenteredLineInViewport

    ✓ LinesLayout getLinesViewportData 1

    ✓ LinesLayout getLinesViewportData 2 & getWhitespaceViewportData

    ✓ LinesLayout getWhitespaceAtVerticalOffset

  Resources

    ✓ distinctParents

    ✓ dirname

    ✓ basename

    ✓ joinPath

    ✓ normalizePath

    ✓ isAbsolute

    ✓ isEqual

    ✓ isEqualOrParent

    ✓ isMalformedFileUri

  Labels

    ✓ shorten - windows

    ✓ shorten - not windows

    ✓ template

    ✓ getBaseLabel - unix

    ✓ getBaseLabel - windows

  Platform / Registry

    ✓ registry - api

    ✓ registry - mixin

    ✓ registry - knows, as

    ✓ registry - mixin, fails on duplicate ids

  Graph

    ✓ is possible to lookup nodes that don't exist

    ✓ inserts nodes when not there yet

    ✓ can remove nodes and get length

    ✓ root

    ✓ root complex

  ContextKeyExpr

    ✓ ContextKeyExpr.equals

    ✓ normalize

    ✓ evaluate

  Files

    ✓ FileChangesEvent

    ✓ isEqual (ignoreCase)

    ✓ isParent (ignorecase)

    ✓ isEqualOrParent (ignorecase)

  Instantiation Service

    ✓ service collection, cannot overwrite

    ✓ service collection, add/has

    ✓ @Param - simple clase

    ✓ @Param - fixed args

    ✓ service collection is live

    ✓ @Param - optional

    ✓ SyncDesc - no dependencies

    ✓ SyncDesc - service with service dependency

    ✓ SyncDesc - target depends on service future

    ✓ SyncDesc - explode on loop

    ✓ Invoke - get services

    ✓ Invoke - get service, optional

    ✓ Invoke - keeping accessor NOT allowed

    ✓ Invoke - throw error

    ✓ Create child

  Replace Pattern test

    ✓ parse replace string

    ✓ create pattern by passing regExp

    ✓ get replace string if given text is a complete match

    ✓ get replace string for no matches

    ✓ get replace string if match is sub-string of the text

  Debug - Utils

    ✓ formatPII

    ✓ getExactExpressionStartAndEnd

  Extension query

    ✓ parse

    ✓ toString

    ✓ isValid

    ✓ equals

    ✓ autocomplete

  Workbench - TerminalCommandTracker
    Command tracking

      ✓ should track commands when the prompt is of sufficient size

      ✓ should not track commands when the prompt is too small
    Commands

      ✓ should scroll to the next and previous commands

      ✓ should select to the next and previous commands

      ✓ should select to the next and previous lines & commands

  Decoder

    ✓ decoding

  Encoding

    ✓ detectBOM UTF-8

    ✓ detectBOM UTF-16 LE

    ✓ detectBOM UTF-16 BE

    ✓ detectBOM ANSI

    ✓ detectBOM ANSI

    ✓ resolve terminal encoding (detect) (57ms)

    ✓ resolve terminal encoding (environment)

    ✓ detectEncodingFromBuffer (JSON saved as PNG)

    ✓ detectEncodingFromBuffer (PNG saved as TXT)

    ✓ detectEncodingFromBuffer (XML saved as PNG)

    ✓ detectEncodingFromBuffer (QWOFF saved as TXT)

    ✓ detectEncodingFromBuffer (CSS saved as QWOFF)

    ✓ detectEncodingFromBuffer (PDF)

    ✓ detectEncodingFromBuffer (guess UTF-16 LE from content without BOM)

    ✓ detectEncodingFromBuffer (guess UTF-16 BE from content without BOM)

    ✓ autoGuessEncoding (ShiftJIS) (214ms)

    ✓ autoGuessEncoding (CP1252)

    ✓ toDecodeStream - some stream

    ✓ toDecodeStream - some stream, expect too much data

    ✓ toDecodeStream - some stream, no data

    ✓ toDecodeStream - encoding, utf16be

    ✓ toDecodeStream - empty file

  Errors

    ✓ Get Error Message

  JSON

    ✓ tokens

    ✓ comments

    ✓ strings

    ✓ numbers

    ✓ keywords: true, false, null

    ✓ trivia

    ✓ parse: literals

    ✓ parse: objects

    ✓ parse: arrays

    ✓ parse: objects with errors

    ✓ parse: array with errors

    ✓ parse: disallow commments

    ✓ parse: trailing comma

    ✓ tree: literals

    ✓ tree: arrays

    ✓ tree: objects

  Processes

    ✓ buffered sending - simple data (219ms)

    ✓ buffered sending - lots of data (potential deadlock on win32)

  formatOptions

    ✓ Text should display small columns correctly

    ✓ Text should wrap

    ✓ Text should revert to the condensed view when the terminal is too narrow

  Extension Identifier Pattern

    ✓ extension identifier pattern

  WindowsFinder

    ✓ New window without folder when no windows exist

    ✓ New window without folder when windows exist

    ✓ Last active window

    ✓ Existing window with folder

    ✓ More specific existing window wins

    ✓ Workspace folder wins

  Workspace

    ✓ getFolder returns the folder with given uri

    ✓ getFolder returns the folder if the uri is sub

    ✓ getFolder returns the closest folder if the uri is sub

    ✓ getFolder returns null if the uri is not sub

    ✓ toWorkspaceFolders with single absolute folder

    ✓ toWorkspaceFolders with single relative folder

    ✓ toWorkspaceFolders with single absolute folder with name

    ✓ toWorkspaceFolders with multiple unique absolute folders

    ✓ toWorkspaceFolders with multiple unique absolute folders with names

    ✓ toWorkspaceFolders with multiple unique absolute and relative folders

    ✓ toWorkspaceFolders with multiple absolute folders with duplicates

    ✓ toWorkspaceFolders with multiple absolute and relative folders with duplicates

    ✓ toWorkspaceFolders with multiple absolute and relative folders with invalid paths

  Snippets

    ✓ SnippetFile#select

    ✓ SnippetFile#select - any scope

  SnippetRewrite

    ✓ bogous variable rewrite

    ✓ Snippet choices: unable to escape comma and pipe, #31521

    ✓ lazy bogous variable rewrite

  KeybindingLabels

    ✓ Windows US label

    ✓ Linux US label

    ✓ Mac US label

    ✓ Aria label

    ✓ Electron Accelerator label

    ✓ User Settings label

  keybindingIO

    ✓ serialize/deserialize

    ✓ deserialize scan codes

    ✓ issue #10452 - invalid command

    ✓ issue #10452 - invalid when

    ✓ issue #10452 - invalid key

    ✓ issue #10452 - invalid key 2

    ✓ test commands args

  Lifecycle

    ✓ dispose single disposable

    ✓ dispose disposable array

    ✓ dispose disposables

  Reference Collection

    ✓ simple

  Watcher

    ✓ watching - simple add/update/delete

    ✓ watching - delete only reported for top level folder (0)

    ✓ watching - event normalization: ignore CREATE followed by DELETE

    ✓ watching - event normalization: flatten DELETE followed by CREATE into CHANGE

    ✓ watching - event normalization: ignore UPDATE when CREATE received

    ✓ watching - event normalization: apply DELETE

  CancellationToken

    ✓ None

    ✓ cancel before token

    ✓ cancel happens only once

    ✓ cancel calls all listeners

    ✓ token stays the same

    ✓ dispose calls no listeners

  Async

    ✓ cancelablePromise - set token, don't wait for inner promise

    ✓ cancelablePromise - cancel despite inner promise being resolved

    ✓ CancelablePromise execution order (sync)

    ✓ CancelablePromise execution order (async)

    ✓ cancelablePromise - get inner result

    ✓ Throttler - non async

    ✓ Throttler

    ✓ Throttler - last factory should be the one getting called

    ✓ Delayer

    ✓ Delayer - simple cancel

    ✓ Delayer - cancel should cancel all calls to trigger

    ✓ Delayer - trigger, cancel, then trigger again

    ✓ Delayer - last task should be the one getting called

    ✓ Sequence

    ✓ Limiter - sync

    ✓ Limiter - async (56ms)

    ✓ Limiter - assert degree of paralellism

    ✓ Queue - simple

    ✓ Queue - order is kept (40ms)

    ✓ Queue - errors bubble individually but not cause stop (41ms)

    ✓ Queue - order is kept (chained) (43ms)

    ✓ Queue - events (41ms)

    ✓ ResourceQueue - simple

  Event

    ✓ Emitter plain

    ✓ Emitter, bucket

    ✓ onFirstAdd|onLastRemove

    ✓ throwingListener

    ✓ reusing event function and context

    ✓ Debounce Event

    ✓ Debounce Event - leading

    ✓ Debounce Event - leading

    ✓ Emitter - In Order Delivery

  AsyncEmitter

    ✓ event has waitUntil-function

    ✓ sequential delivery

    ✓ sequential, in-order delivery (46ms)

  Event utils

    ✓ latch
    EventBufferer

      ✓ should not buffer when not wrapped

      ✓ should buffer when wrapped

      ✓ once
    fromPromise

      ✓ should emit when done

      ✓ should emit when done - setTimeout
    stopwatch

      ✓ should emit
    buffer

      ✓ should buffer events

      ✓ should buffer events on next tick

      ✓ should fire initial buffer events
    echo

      ✓ should echo events

      ✓ should echo events for every listener
    EventMultiplexer

      ✓ works

      ✓ multiplexer dispose works

      ✓ event dispose works

      ✓ mutliplexer event dispose works

      ✓ hot start works

      ✓ cold start works

      ✓ late add works

      ✓ add dispose works

  Polyfill Promise

    ✓ sync-resolve, NativePromise

    ✓ sync-resolve, WinJSPromise

    ✓ sync-resolve, PolyfillPromise

    ✓ sync-then, NativePromise

    ✓ sync-then, WinJSPromise

    ✓ sync-then, PolyfillPromise

    ✓ PolyfillPromise, executor has two params

    ✓ Promises polyfill does not support chaining then and catch #57722

    ✓ Promise, resolved value

    ✓ Promise, rejected value

    ✓ Promise, catch

    ✓ Promise, static-resolve

    ✓ Promise, static-reject

    ✓ Promise, static-all, 1

    ✓ Promise, static-all, 2

    ✓ Promise, static-all, 3

    ✓ Promise, static-race, 1

    ✓ Promise, static-race, 2

    ✓ Promise, static-race, 3

    ✓ Promise, throw in ctor

    ✓ PolyfillPromise, resolved value

    ✓ PolyfillPromise, rejected value

    ✓ PolyfillPromise, catch

    ✓ PolyfillPromise, static-resolve

    ✓ PolyfillPromise, static-reject

    ✓ PolyfillPromise, static-all, 1

    ✓ PolyfillPromise, static-all, 2

    ✓ PolyfillPromise, static-all, 3

    ✓ PolyfillPromise, static-race, 1

    ✓ PolyfillPromise, static-race, 2

    ✓ PolyfillPromise, static-race, 3

    ✓ PolyfillPromise, throw in ctor

  Glob

    ✓ simple

    ✓ dot hidden

    ✓ file pattern

    ✓ star

    ✓ file / folder match

    ✓ questionmark

    ✓ globstar

    ✓ issue 41724

    ✓ brace expansion

    ✓ expression support (single)

    ✓ expression support (multiple)

    ✓ brackets

    ✓ full path

    ✓ prefix agnostic

    ✓ cached properly

    ✓ invalid glob

    ✓ split glob aware

    ✓ expression with disabled glob

    ✓ expression with two non-trivia globs

    ✓ expression with empty glob

    ✓ expression with other falsy value

    ✓ expression with two basename globs

    ✓ expression with two basename globs and a siblings expression

    ✓ expression with multipe basename globs

    ✓ falsy expression/pattern

    ✓ falsy path

    ✓ expression/pattern basename

    ✓ expression/pattern basename terms

    ✓ expression/pattern optimization for basenames

    ✓ trailing slash

    ✓ expression/pattern path

    ✓ expression/pattern paths

    ✓ expression/pattern optimization for paths

    ✓ relative pattern - glob star

    ✓ relative pattern - single star

    ✓ relative pattern - single star with path

    ✓ pattern with "base" does not explode - #36081

    ✓ relative pattern - #57475

  Mime

    ✓ Dynamically Register Text Mime

    ✓ Mimes Priority

    ✓ Specificity priority 1

    ✓ Specificity priority 2

    ✓ Mimes Priority - Longest Extension wins

    ✓ Mimes Priority - User configured wins

    ✓ Mimes Priority - Pattern matches on path if specified

    ✓ Mimes Priority - Last registered mime wins

    ✓ Filename Suggestion - Suggest prefix only when there are no relevant extensions

    ✓ Filename Suggestion - Suggest prefix with first extension that begins with a dot

    ✓ Filename Suggestion - Suggest first relevant extension when there are none that begin with a dot

    ✓ Filename Suggestion - Should ignore user-configured associations

  LanguageSelector

    ✓ score, invalid selector

    ✓ score, any language

    ✓ score, default schemes

    ✓ score, filter

    ✓ score, max(filters)

    ✓ score hasAccessToAllModels

  TextSearchResult

    ✓ empty without preview options

    ✓ empty with preview options

    ✓ short without preview options

    ✓ short with preview options

    ✓ leading

    ✓ trailing

    ✓ middle

    ✓ truncating match

  Base IPC

    ✓ createProtocolPair
    one to one

      ✓ call success

      ✓ call error

      ✓ cancel call with cancelled cancellation token

      ✓ cancel call with cancellation token (sync)

      ✓ cancel call with cancellation token (async)

      ✓ listen to events

  IPC, Socket Protocol

    ✓ read/write

    ✓ read/write, object data

    ✓ can devolve to a socket and evolve again without losing data

  IPC, Child Process

    ✓ createChannel (228ms)

    ✓ events (221ms)

    ✓ event dispose (221ms)

  Cache

    ✓ simple value

    ✓ simple error

    ✓ should retry cancellations

  PagedModel

    ✓ isResolved

    ✓ resolve single

    ✓ resolve page

    ✓ resolve page 2

    ✓ preemptive cancellation works

    ✓ cancellation works

    ✓ same page cancellation works

  IndexTreeModel

    ✓ ctor

    ✓ insert

    ✓ deep insert

    ✓ deep insert collapsed

    ✓ delete

    ✓ nested delete

    ✓ deep delete

    ✓ hidden delete

    ✓ collapse

    ✓ expand

    ✓ collapse should recursively adjust visible count

    ✓ simple filter

    ✓ recursive filter on initial model

    ✓ refilter

    ✓ recursive filter

    ✓ recursive filter with collapse

    ✓ recursive filter while collapsed
    getNodeLocation

      ✓ simple

      ✓ with filter

  ObjectTreeModel

    ✓ ctor

    ✓ flat

    ✓ nested

    ✓ setChildren on collapsed node

    ✓ setChildren on expanded, unrevealed node

  Marker Service

    ✓ query

    ✓ changeOne override

    ✓ changeOne/All clears

    ✓ changeAll sends event for cleared

    ✓ changeAll merges

    ✓ changeAll must not break integrety, issue #12635

    ✓ invalid marker data

    ✓ MapMap#remove returns bad values, https://github.com/Microsoft/vscode/issues/13548

    ✓ Error code of zero in markers get removed, #31275

  KeyCode

    ✓ is exported correctly in standalone editor

  SmoothScrollingOperation

    ✓ scroll 25 lines (40 fit)

    ✓ scroll 75 lines (40 fit)

    ✓ scroll 100 lines (40 fit)

    ✓ scroll 125 lines (40 fit)

    ✓ scroll 500 lines (40 fit)

  Editor ViewLayout - EditorLayoutProvider

    ✓ EditorLayoutProvider 1

    ✓ EditorLayoutProvider 1.1

    ✓ EditorLayoutProvider 2

    ✓ EditorLayoutProvider 3

    ✓ EditorLayoutProvider 4

    ✓ EditorLayoutProvider 5

    ✓ EditorLayoutProvider 6

    ✓ EditorLayoutProvider 7

    ✓ EditorLayoutProvider 8

    ✓ EditorLayoutProvider 8 - rounds floats

    ✓ EditorLayoutProvider 9 - render minimap

    ✓ EditorLayoutProvider 9 - render minimap with pixelRatio = 2

    ✓ EditorLayoutProvider 9 - render minimap with pixelRatio = 4

    ✓ EditorLayoutProvider 10 - render minimap to left

    ✓ issue #31312: When wrapping, leave 2px for the cursor

  Extfs

    ✓ mkdirp

    ✓ stat link

    ✓ delSync - swallows file not found error

    ✓ delSync - simple

    ✓ delSync - recursive folder structure

    ✓ copy, move and delete

    ✓ readdir

    ✓ writeFileAndFlush (string) (59ms)

    ✓ writeFileAndFlush (stream) (61ms)

    ✓ writeFileAndFlush (file stream)

    ✓ writeFileAndFlush (string, error handling)

    ✓ writeFileAndFlush (stream, error handling EISDIR)

    ✓ writeFileAndFlush (stream, error handling READERROR)

    ✓ writeFileAndFlush (stream, error handling EACCES)

    ✓ writeFileAndFlush (file stream, error handling)

    ✓ writeFileAndFlushSync (59ms)

    ✓ realcase

    ✓ realpath

    ✓ realpathSync

    ✓ mkdirp cancellation

    ✓ sanitizeFilePath

  PFS

    ✓ writeFile

    ✓ writeFile - parallel write on different files works

    ✓ writeFile - parallel write on same files works and is sequentalized (110ms)

    ✓ rimraf - simple

    ✓ rimraf - recursive folder structure

  Config

    ✓ defaults

    ✓ getConfig / getValue

    ✓ getConfig / getValue - broken JSON

    ✓ reload

  keyboardMapper - MAC fallback

    ✓ resolveKeybinding Cmd+Z

    ✓ resolveKeybinding Cmd+K Cmd+=

    ✓ resolveKeyboardEvent Cmd+Z

    ✓ resolveUserBinding Cmd+[Comma] Cmd+/

    ✓ resolveKeyboardEvent Modifier only Meta+

  keyboardMapper - LINUX fallback

    ✓ resolveKeybinding Ctrl+Z

    ✓ resolveKeybinding Ctrl+K Ctrl+=

    ✓ resolveKeyboardEvent Ctrl+Z

    ✓ resolveUserBinding Ctrl+[Comma] Ctrl+/

    ✓ resolveUserBinding Ctrl+[Comma]

    ✓ resolveKeyboardEvent Modifier only Ctrl+

  keyboardMapper - MAC de_ch

    ✓ mapping

    ✓ kb => hw

    ✓ resolveKeybinding Cmd+A

    ✓ resolveKeybinding Cmd+B

    ✓ resolveKeybinding Cmd+Z

    ✓ resolveKeyboardEvent Cmd+[KeyY]

    ✓ resolveKeybinding Cmd+]

    ✓ resolveKeyboardEvent Cmd+[BracketRight]

    ✓ resolveKeybinding Shift+]

    ✓ resolveKeybinding Cmd+/

    ✓ resolveKeybinding Cmd+Shift+/

    ✓ resolveKeybinding Cmd+K Cmd+\

    ✓ resolveKeybinding Cmd+K Cmd+=

    ✓ resolveKeybinding Cmd+DownArrow

    ✓ resolveKeybinding Cmd+NUMPAD_0

    ✓ resolveKeybinding Ctrl+Home

    ✓ resolveKeyboardEvent Ctrl+[Home]

    ✓ resolveUserBinding Cmd+[Comma] Cmd+/

    ✓ resolveKeyboardEvent Modifier only MetaLeft+

    ✓ resolveKeyboardEvent Modifier only MetaRight+

  keyboardMapper - MAC en_us

    ✓ mapping

    ✓ resolveUserBinding Cmd+[Comma] Cmd+/

    ✓ resolveKeyboardEvent Modifier only MetaLeft+

    ✓ resolveKeyboardEvent Modifier only MetaRight+

  keyboardMapper - LINUX de_ch

    ✓ mapping

    ✓ kb => hw

    ✓ resolveKeybinding Ctrl+A

    ✓ resolveKeybinding Ctrl+Z

    ✓ resolveKeyboardEvent Ctrl+[KeyY]

    ✓ resolveKeybinding Ctrl+]

    ✓ resolveKeyboardEvent Ctrl+[BracketRight]

    ✓ resolveKeybinding Shift+]

    ✓ resolveKeybinding Ctrl+/

    ✓ resolveKeybinding Ctrl+Shift+/

    ✓ resolveKeybinding Ctrl+K Ctrl+\

    ✓ resolveKeybinding Ctrl+K Ctrl+=

    ✓ resolveKeybinding Ctrl+DownArrow

    ✓ resolveKeybinding Ctrl+NUMPAD_0

    ✓ resolveKeybinding Ctrl+Home

    ✓ resolveKeyboardEvent Ctrl+[Home]

    ✓ resolveKeyboardEvent Ctrl+[KeyX]

    ✓ resolveUserBinding Ctrl+[Comma] Ctrl+/

    ✓ resolveKeyboardEvent Modifier only ControlLeft+

    ✓ resolveKeyboardEvent Modifier only ControlRight+

  keyboardMapper - LINUX en_us

    ✓ mapping

    ✓ resolveKeybinding Ctrl+A

    ✓ resolveKeybinding Ctrl+Z

    ✓ resolveKeyboardEvent Ctrl+[KeyZ]

    ✓ resolveKeybinding Ctrl+]

    ✓ resolveKeyboardEvent Ctrl+[BracketRight]

    ✓ resolveKeybinding Shift+]

    ✓ resolveKeybinding Ctrl+/

    ✓ resolveKeybinding Ctrl+Shift+/

    ✓ resolveKeybinding Ctrl+K Ctrl+\

    ✓ resolveKeybinding Ctrl+K Ctrl+=

    ✓ resolveKeybinding Ctrl+DownArrow

    ✓ resolveKeybinding Ctrl+NUMPAD_0

    ✓ resolveKeybinding Ctrl+Home

    ✓ resolveKeyboardEvent Ctrl+[Home]

    ✓ resolveKeybinding Ctrl+Shift+,

    ✓ issue #23393: resolveKeybinding Ctrl+Enter

    ✓ issue #23393: resolveKeyboardEvent Ctrl+[NumpadEnter]

    ✓ resolveUserBinding Ctrl+[Comma] Ctrl+/

    ✓ resolveUserBinding Ctrl+[Comma]

    ✓ resolveKeyboardEvent Modifier only ControlLeft+

    ✓ resolveKeyboardEvent Modifier only ControlRight+

  keyboardMapper

    ✓ issue #23706: Linux UK layout: Ctrl + Apostrophe also toggles terminal

    ✓ issue #24064: NumLock/NumPad keys stopped working in 1.11 on Linux

    ✓ issue #24107: Delete, Insert, Home, End, PgUp, PgDn, and arrow keys no longer work editor in 1.11

  keyboardMapper - LINUX ru

    ✓ mapping

    ✓ resolveKeybinding Ctrl+S

  keyboardMapper - LINUX en_uk

    ✓ mapping

    ✓ issue #24522: resolveKeyboardEvent Ctrl+Alt+[Minus]

  keyboardMapper - MAC zh_hant

    ✓ mapping

    ✓ issue #28237 resolveKeybinding Cmd+C

  keyboardMapper - WINDOWS de_ch

    ✓ mapping

    ✓ resolveKeybinding Ctrl+A

    ✓ resolveKeybinding Ctrl+Z

    ✓ resolveKeyboardEvent Ctrl+Z

    ✓ resolveKeybinding Ctrl+]

    ✓ resolveKeyboardEvent Ctrl+]

    ✓ resolveKeybinding Shift+]

    ✓ resolveKeybinding Ctrl+/

    ✓ resolveKeybinding Ctrl+Shift+/

    ✓ resolveKeybinding Ctrl+K Ctrl+\

    ✓ resolveKeybinding Ctrl+K Ctrl+=

    ✓ resolveKeybinding Ctrl+DownArrow

    ✓ resolveKeybinding Ctrl+NUMPAD_0

    ✓ resolveKeybinding Ctrl+Home

    ✓ resolveKeyboardEvent Ctrl+Home

    ✓ resolveUserBinding Ctrl+[Comma] Ctrl+/

    ✓ resolveKeyboardEvent Modifier only Ctrl+

  keyboardMapper - WINDOWS en_us

    ✓ mapping

    ✓ resolveKeybinding Ctrl+K Ctrl+\

    ✓ resolveUserBinding Ctrl+[Comma] Ctrl+/

    ✓ resolveUserBinding Ctrl+[Comma]

    ✓ resolveKeyboardEvent Modifier only Ctrl+

  keyboardMapper - WINDOWS por_ptb

    ✓ mapping

    ✓ resolveKeyboardEvent Ctrl+[IntlRo]

    ✓ resolveKeyboardEvent Ctrl+[NumpadComma]

  keyboardMapper - WINDOWS ru

    ✓ mapping

    ✓ issue ##24361: resolveKeybinding Ctrl+K Ctrl+K

  keyboardMapper - misc

    ✓ issue #23513: Toggle Sidebar Visibility and Go to Line display same key mapping in Arabic keyboard

  Chockidar normalizeRoots

    ✓ should not impacts roots that don't overlap

    ✓ should remove sub-folders of other roots

    ✓ should remove duplicates

    ✓ nested requests

  Chockidar watching
    - simple file operations, single root, no ignore
    - simple file operations, ignore
    - simple file operations, multiple roots
    - simple file operations, nested roots

  NSFW Watcher Service
    _normalizeRoots

      ✓ should not impacts roots that don't overlap

      ✓ should remove sub-folders of other roots

  Zip

    ✓ extract should handle directories

  AIAdapter

    ✓ Simple event

    ✓ addional data

    ✓ property limits

    ✓ Different data types

    ✓ Nested data

    ✓ Do not Log Telemetry if log level is not trace

    ✓ Log Telemetry if log level is trace

  Command Tests

    ✓ register command - no handler

    ✓ register/dispose

    ✓ register/register/dispose

    ✓ command with description

  CommandService

    ✓ activateOnCommand

    ✓ fwd activation error

    ✓ !onReady, but executeCommand

    ✓ issue #34913: !onReady, unknown command

  KeybindingResolver

    ✓ resolve key

    ✓ resolve key with arguments

    ✓ KeybindingResolver.combine simple 1

    ✓ KeybindingResolver.combine simple 2

    ✓ KeybindingResolver.combine removal with not matching when

    ✓ KeybindingResolver.combine removal with not matching keybinding

    ✓ KeybindingResolver.combine removal with matching keybinding and when

    ✓ KeybindingResolver.combine removal with unspecified keybinding

    ✓ KeybindingResolver.combine removal with unspecified when

    ✓ KeybindingResolver.combine removal with unspecified when and unspecified keybinding

    ✓ issue #612#issuecomment-222109084 cannot remove keybindings for commands with ^

    ✓ contextIsEntirelyIncluded

    ✓ resolve command

  Workbench editor options

    ✓ EditorOptions

    ✓ TextEditorOptions

  Notifications

    ✓ Items

    ✓ Model

  references

    ✓ nearestReference

  ExtHostTypes

    ✓ URI, toJSON

    ✓ Disposable

    ✓ Position

    ✓ Position, toJSON

    ✓ Position, isBefore(OrEqual)?

    ✓ Position, isAfter(OrEqual)?

    ✓ Position, compareTo

    ✓ Position, translate

    ✓ Position, with

    ✓ Range

    ✓ Range, toJSON

    ✓ Range, sorting

    ✓ Range, isEmpty|isSingleLine

    ✓ Range, contains

    ✓ Range, intersection

    ✓ Range, union

    ✓ Range, with

    ✓ TextEdit

    ✓ WorkspaceEdit

    ✓ WorkspaceEdit - keep order of text and file changes

    ✓ WorkspaceEdit - two edits for one resource

    ✓ DocumentLink

    ✓ toJSON & stringify

    ✓ SymbolInformation, old ctor

    ✓ SnippetString, builder-methods

    ✓ instanceof doesn't work for FileSystemError #49386

  ExtHostWorkspace

    ✓ asRelativePath

    ✓ asRelativePath, same paths, #11402

    ✓ asRelativePath, no workspace

    ✓ asRelativePath, multiple folders

    ✓ slightly inconsistent behaviour of asRelativePath and getWorkspaceFolder, #31553

    ✓ getPath, legacy

    ✓ WorkspaceFolder has name and index

    ✓ getContainingWorkspaceFolder

    ✓ Multiroot change event should have a delta, #29641

    ✓ Multiroot change keeps existing workspaces live

    ✓ updateWorkspaceFolders - invalid arguments

    ✓ updateWorkspaceFolders - valid arguments

    ✓ Multiroot change event is immutable

    ✓ `vscode.workspace.getWorkspaceFolder(file)` don't return workspace folder when file open from command line. #36221

  ExtHostDocumentData

    ✓ readonly-ness

    ✓ save, when disposed

    ✓ read, when disposed

    ✓ lines

    ✓ line, issue #5704

    ✓ offsetAt

    ✓ offsetAt, after remove

    ✓ offsetAt, after replace

    ✓ offsetAt, after insert line

    ✓ offsetAt, after remove line

    ✓ positionAt

    ✓ getWordRangeAtPosition

    ✓ getWordRangeAtPosition doesn't quite use the regex as expected, #29102

  ExtHostDocumentData updates line mapping

    ✓ line mapping

    ✓ after remove

    ✓ after replace

    ✓ after insert line

    ✓ after insert two lines

    ✓ after remove line

    ✓ after remove two lines

    ✓ after deleting entire content

    ✓ after replacing entire content

    ✓ after changing EOL to CRLF

    ✓ after changing EOL to LF

  Diff

    ✓ LcsDiff - different strings tests (45ms)

  Diff - Ported from VS

    ✓ using continue processing predicate to quit early

  Editor Diff - DiffComputer

    ✓ one inserted line below

    ✓ two inserted lines below

    ✓ one inserted line above

    ✓ two inserted lines above

    ✓ one inserted line in middle

    ✓ two inserted lines in middle

    ✓ two inserted lines in middle interrupted

    ✓ one deleted line below

    ✓ two deleted lines below

    ✓ one deleted lines above

    ✓ two deleted lines above

    ✓ one deleted line in middle

    ✓ two deleted lines in middle

    ✓ two deleted lines in middle interrupted

    ✓ one line changed: chars inserted at the end

    ✓ one line changed: chars inserted at the beginning

    ✓ one line changed: chars inserted in the middle

    ✓ one line changed: chars inserted in the middle (two spots)

    ✓ one line changed: chars deleted 1

    ✓ one line changed: chars deleted 2

    ✓ two lines changed 1

    ✓ two lines changed 2

    ✓ two lines changed 3

    ✓ three lines changed

    ✓ big change part 1

    ✓ big change part 2

    ✓ char change postprocessing merges

    ✓ ignore trim whitespace

    ✓ issue #12122 r.hasOwnProperty is not a function

    ✓ empty diff 1

    ✓ empty diff 2

    ✓ empty diff 3

    ✓ empty diff 4

    ✓ pretty diff 1

    ✓ pretty diff 2

    ✓ pretty diff 3

    ✓ issue #23636

    ✓ issue #43922

    ✓ issue #42751

    ✓ does not give character changes

    ✓ issue #44422: Less than ideal diff results

  LineTokens

    ✓ basics

    ✓ findToken

    ✓ inflate

    ✓ sliceAndInflate

  Editor Modes - textToHtmlTokenizer

    ✓ TextToHtmlTokenizer 1

    ✓ TextToHtmlTokenizer 2

    ✓ tokenizeLineToHTML

  viewLineRenderer.renderLine

    ✓ replaces spaces

    ✓ escapes HTML markup

    ✓ replaces some bad characters

    ✓ handles tabs

    ✓ empty line

    ✓ uses part type

    ✓ two parts

    ✓ overflow

    ✓ typical line

    ✓ issue #2255: Weird line rendering part 1

    ✓ issue #2255: Weird line rendering part 2

    ✓ issue Microsoft/monaco-editor#280: Improved source code rendering for RTL languages

    ✓ issue #6885: Splits large tokens

    ✓ issue #21476: Does not split large tokens when ligatures are on

    ✓ issue #20624: Unaligned surrogate pairs are corrupted at multiples of 50 columns

    ✓ issue #6885: Does not split large tokens in RTL text

    ✓ issue #19673: Monokai Theme bad-highlighting in line wrap

  viewLineRenderer.renderLine 2

    ✓ issue #18616: Inline decorations ending at the text length are no longer rendered

    ✓ issue #19207: Link in Monokai is not rendered correctly

    ✓ createLineParts simple

    ✓ createLineParts simple two tokens

    ✓ createLineParts render whitespace - 4 leading spaces

    ✓ createLineParts render whitespace - 8 leading spaces

    ✓ createLineParts render whitespace - 2 leading tabs

    ✓ createLineParts render whitespace - mixed leading spaces and tabs

    ✓ createLineParts render whitespace skips faux indent

    ✓ createLineParts does not emit width for monospace fonts

    ✓ createLineParts render whitespace in middle but not for one space

    ✓ createLineParts render whitespace for all in middle

    ✓ createLineParts can handle unsorted inline decorations

    ✓ issue #11485: Visible whitespace conflicts with before decorator attachment

    ✓ issue #32436: Non-monospace font + visible whitespace + After decorator causes line to "jump"

    ✓ issue #30133: Empty lines don't render inline decorations

    ✓ issue #37208: Collapsing bullet point containing emoji in Markdown document results in [??] character

    ✓ issue #37401: Allow both before and after decorations on empty line

    ✓ issue #38935: GitLens end-of-line blame no longer rendering

    ✓ issue #22832: Consider fullwidth characters when rendering tabs

    ✓ issue #22832: Consider fullwidth characters when rendering tabs (render whitespace)

    ✓ issue #22352: COMBINING ACUTE ACCENT (U+0301)

    ✓ issue #22352: Partially Broken Complex Script Rendering of Tamil

    ✓ issue #42700: Hindi characters are not being rendered properly

    ✓ issue #38123: editor.renderWhitespace: "boundary" renders whitespace at line wrap point when line is wrapped

    ✓ issue #33525: Long line with ligatures takes a long time to paint decorations

    ✓ issue #33525: Long line with ligatures takes a long time to paint decorations - not possible

    ✓ getColumnOfLinePartOffset 1 - simple text

    ✓ getColumnOfLinePartOffset 2 - regular JS

    ✓ getColumnOfLinePartOffset 3 - tab with tab size 6

    ✓ getColumnOfLinePartOffset 4 - once indented line, tab size 4

    ✓ getColumnOfLinePartOffset 5 - twice indented line, tab size 4

  CharacterPairSupport

    ✓ only autoClosingPairs

    ✓ only empty autoClosingPairs

    ✓ only brackets

    ✓ only empty brackets

    ✓ only surroundingPairs

    ✓ only empty surroundingPairs

    ✓ brackets is ignored when having autoClosingPairs

    ✓ shouldAutoClosePair in empty line

    ✓ shouldAutoClosePair in not interesting line 1

    ✓ shouldAutoClosePair in not interesting line 2

    ✓ shouldAutoClosePair in interesting line 1

    ✓ shouldAutoClosePair in interesting line 2

    ✓ shouldAutoClosePair in interesting line 3

  Editor Modes - Auto Indentation

    ✓ Doc comments

    ✓ getElectricCharacters uses all sources and dedups

    ✓ auto-close

    ✓ matchOpenBracket

  OutlineModel

    ✓ OutlineModel#create, cached

    ✓ OutlineModel#create, cached/cancel

    ✓ OutlineElement - updateMarker

    ✓ OutlineElement - updateMarker, 2

    ✓ OutlineElement - updateMarker/multiple groups

  Syntax folding

    ✓ Limit by nesting level

  Snippet Variables Resolver

    ✓ editor variables, basics

    ✓ editor variables, file/dir

    ✓ editor variables, selection

    ✓ TextmateSnippet, resolve variable

    ✓ TextmateSnippet, resolve variable with default

    ✓ More useful environment variables for snippets, #32737

    ✓ Variable Snippet Transform

    ✓ Snippet transforms do not handle regex with alternatives or optional matches, #36089

    ✓ Add variable to insert value from clipboard to a snippet #40153

    ✓ Add variable to insert value from clipboard to a snippet #40153

    ✓ Add time variables for snippets #41631, #43140

    ✓ creating snippet - format-condition doesn't work #53617

  TextAreaState

    ✓ fromTextArea

    ✓ applyToTextArea

    ✓ deduceInput - Japanese typing sennsei and accepting

    ✓ deduceInput - Japanese typing sennsei and choosing different suggestion

    ✓ extractNewText - no previous state with selection

    ✓ issue #2586: Replacing selected end-of-line with newline locks up the document

    ✓ extractNewText - no previous state without selection

    ✓ extractNewText - typing does not cause a selection

    ✓ extractNewText - had the textarea empty

    ✓ extractNewText - had the entire line selected

    ✓ extractNewText - had previous text 1

    ✓ extractNewText - had previous text 2

    ✓ extractNewText - had previous text 3

    ✓ extractNewText - IME

    ✓ extractNewText - isInOverwriteMode

    ✓ extractMacReplacedText - does nothing if there is selection

    ✓ extractMacReplacedText - does nothing if there is more than one extra char

    ✓ extractMacReplacedText - does nothing if there is more than one changed char

    ✓ extractMacReplacedText

    ✓ issue #25101 - First key press ignored

    ✓ issue #16520 - Cmd-d of single character followed by typing same character as has no effect

    ✓ issue #4271 (example 1) - When inserting an emoji on OSX, it is placed two spaces left of the cursor

    ✓ issue #4271 (example 2) - When inserting an emoji on OSX, it is placed two spaces left of the cursor

    ✓ issue #4271 (example 3) - When inserting an emoji on OSX, it is placed two spaces left of the cursor

    ✓ issue #4271 (example 4) - When inserting an emoji on OSX, it is placed two spaces left of the cursor

    ✓ issue #42251: Minor issue, character swapped when typing

    ✓ issue #49480: Double curly braces inserted
    PagedScreenReaderStrategy

      ✓ simple

      ✓ multiline

      ✓ page

  PieceTreeTextBuffer._getInverseEdits

    ✓ single insert

    ✓ Bug 19872: Undo is funky

    ✓ two single unrelated inserts

    ✓ two single inserts 1

    ✓ two single inserts 2

    ✓ multiline insert

    ✓ two unrelated multiline inserts

    ✓ two multiline inserts 1

    ✓ single delete

    ✓ two single unrelated deletes

    ✓ two single deletes 1

    ✓ two single deletes 2

    ✓ multiline delete

    ✓ two unrelated multiline deletes

    ✓ two multiline deletes 1

    ✓ single replace

    ✓ two replaces

    ✓ many edits

  PieceTreeTextBuffer._toSingleEditOperation

    ✓ one edit op is unchanged

    ✓ two edits on one line

    ✓ insert multiple newlines

    ✓ delete empty text

    ✓ two unrelated edits

    ✓ many edits

    ✓ many edits reversed

    ✓ replacing newlines 1

    ✓ replacing newlines 2

    ✓ advanced

    ✓ advanced simplified

  ModelLine - getIndentLevel

    ✓ getIndentLevel

  ModelLinesTokens

    ✓ single delete 1

    ✓ single delete 2

    ✓ single delete 3

    ✓ single delete 4

    ✓ single delete 5

    ✓ multi delete 6

    ✓ multi delete 7

    ✓ multi delete 8

    ✓ multi delete 9

    ✓ single insert 1

    ✓ single insert 2

    ✓ single insert 3

    ✓ single insert 4

    ✓ single insert 5

    ✓ multi insert 6

    ✓ multi insert 7

    ✓ multi insert 8

    ✓ multi insert 9

    ✓ insertion on empty line

    ✓ updates tokens on insertion 1

    ✓ updates tokens on insertion 2

    ✓ updates tokens on insertion 3

    ✓ updates tokens on insertion 4

    ✓ updates tokens on insertion 5

    ✓ updates tokens on insertion 6

    ✓ updates tokens on insertion 7

    ✓ updates tokens on insertion 8

    ✓ updates tokens on insertion 9

    ✓ updates tokens on insertion 10

    ✓ delete second token 2

    ✓ insert right before second token

    ✓ delete first char

    ✓ delete 2nd and 3rd chars

    ✓ delete first token

    ✓ delete second token

    ✓ delete second token + a bit of the third one

    ✓ delete second and third token

    ✓ delete everything

    ✓ noop

    ✓ equivalent to deleting first two chars

    ✓ equivalent to deleting from 5 to the end

    ✓ updates tokens on replace 1

    ✓ updates tokens on replace 2

    ✓ split at the beginning

    ✓ split at the end

    ✓ split inthe middle 1

    ✓ split inthe middle 2

    ✓ append empty 1

    ✓ append empty 2

    ✓ append 1

    ✓ append 2

    ✓ append 3

  Editor Model - Model Modes 1

    ✓ model calls syntax highlighter 1

    ✓ model calls syntax highlighter 2

    ✓ model caches states

    ✓ model invalidates states for one line insert

    ✓ model invalidates states for many lines insert

    ✓ model invalidates states for one new line

    ✓ model invalidates states for one line delete

    ✓ model invalidates states for many lines delete

  Editor Model - Model Modes 2

    ✓ getTokensForInvalidLines one text insert

    ✓ getTokensForInvalidLines two text insert

    ✓ getTokensForInvalidLines one multi-line text insert, one small text insert

    ✓ getTokensForInvalidLines one delete text

    ✓ getTokensForInvalidLines one line delete text

    ✓ getTokensForInvalidLines multiple lines delete text

  ModelBuilder

    ✓ t1

    ✓ t2

    ✓ t3

    ✓ t4

    ✓ carriage return detection (1 \r\n 2 \n)

    ✓ carriage return detection (2 \r\n 1 \n)

    ✓ carriage return detection (3 \r\n 0 \n)

    ✓ BOM handling

    ✓ BOM handling

    ✓ RTL handling 2

    ✓ RTL handling 3

    ✓ ASCII handling 1

    ✓ ASCII handling 2

  Editor Model - Model Edit Operation

    ✓ Insert inline

    ✓ Replace inline/inline 1

    ✓ Replace inline/inline 2

    ✓ Replace inline/inline 3

    ✓ Replace inline/multi line 1

    ✓ Replace inline/multi line 2

    ✓ Replace inline/multi line 3

    ✓ Replace muli line/multi line

  Editor Model - Model

    ✓ model getValue

    ✓ model insert empty text

    ✓ model insert text without newline 1

    ✓ model insert text without newline 2

    ✓ model insert text with one newline

    ✓ model insert text with two newlines

    ✓ model insert text with many newlines

    ✓ model insert empty text does not trigger eventing

    ✓ model insert text without newline eventing

    ✓ model insert text with one newline eventing

    ✓ model delete empty text

    ✓ model delete text from one line

    ✓ model delete text from one line 2

    ✓ model delete all text from a line

    ✓ model delete text from two lines

    ✓ model delete text from many lines

    ✓ model delete everything

    ✓ model delete empty text does not trigger eventing

    ✓ model delete text from one line eventing

    ✓ model delete all text from a line eventing

    ✓ model delete text from two lines eventing

    ✓ model delete text from many lines eventing

    ✓ getValueInRange

    ✓ getValueLengthInRange

    ✓ setValue eventing

    ✓ issue #46342: Maintain edit operation order in applyEdits

  Editor Model - Model Line Separators

    ✓ model getValue

    ✓ model lines

    ✓ Bug 13333:Model should line break on lonely CR too

  Editor Model - Words

    ✓ Get word at position

    ✓ getWordAtPosition at embedded language boundaries

  Editor Model - Model Decorations

    ✓ single character decoration

    ✓ line decoration

    ✓ full line decoration

    ✓ multiple line decoration

    ✓ decoration gets removed

    ✓ decorations get removed

    ✓ decoration range can be changed

    ✓ decorations emit event on add

    ✓ decorations emit event on change

    ✓ decorations emit event on remove

    ✓ decorations emit event when inserting one line text before it

    ✓ decorations do not emit event on no-op deltaDecorations

    ✓ decorations are updated when inserting one line text before it

    ✓ decorations are updated when inserting one line text before it 2

    ✓ decorations are updated when inserting multiple lines text before it

    ✓ decorations change when inserting text after them

    ✓ decorations are updated when inserting text inside

    ✓ decorations are updated when inserting text inside 2

    ✓ decorations are updated when inserting text inside 3

    ✓ decorations are updated when inserting multiple lines text inside

    ✓ decorations are updated when deleting one line text before it

    ✓ decorations are updated when deleting multiple lines text before it

    ✓ decorations are updated when deleting multiple lines text before it 2

    ✓ decorations are updated when deleting text inside

    ✓ decorations are updated when deleting text inside 2

    ✓ decorations are updated when deleting multiple lines text

    ✓ decorations are updated when changing EOL

    ✓ an apparently simple edit

    ✓ removeAllDecorationsWithOwnerId can be called after model dispose

    ✓ removeAllDecorationsWithOwnerId works

  Decorations and editing
    insert
      collapsed dec

        ✓ before

        ✓ equal

        ✓ after
      non-collapsed dec

        ✓ before

        ✓ start

        ✓ inside

        ✓ end

        ✓ after
    delete
      collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start >= range.end

        ✓ edit.start > range.end
      non-collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end < range.end

        ✓ edit.start < range.start && edit.end == range.end

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start == range.start && edit.end < range.end

        ✓ edit.start == range.start && edit.end == range.end

        ✓ edit.start == range.start && edit.end > range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end

        ✓ edit.start == range.end

        ✓ edit.start > range.end
    replace short
      collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start >= range.end

        ✓ edit.start > range.end
      non-collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end < range.end

        ✓ edit.start < range.start && edit.end == range.end

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start == range.start && edit.end < range.end

        ✓ edit.start == range.start && edit.end == range.end

        ✓ edit.start == range.start && edit.end > range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end

        ✓ edit.start == range.end

        ✓ edit.start > range.end
    replace long
      collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start >= range.end

        ✓ edit.start > range.end
      non-collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end < range.end

        ✓ edit.start < range.start && edit.end == range.end

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start == range.start && edit.end < range.end

        ✓ edit.start == range.start && edit.end == range.end

        ✓ edit.start == range.start && edit.end > range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end

        ✓ edit.start == range.end

        ✓ edit.start > range.end

  deltaDecorations

    ✓ result respects input

    ✓ deltaDecorations 1

    ✓ deltaDecorations 2

    ✓ deltaDecorations 3

    ✓ issue #4317: editor.setDecorations doesn't update the hover message

    ✓ model doesn't get confused with individual tracked ranges

    ✓ issue #16922: Clicking on link doesn't seem to do anything

    ✓ issue #41492: URL highlighting persists after pasting over url

  inserts and deletes

    ✓ basic insert/delete

    ✓ more inserts

    ✓ more deletes

    ✓ random test 1

    ✓ random test 2

    ✓ random test 3

    ✓ random delete 1

    ✓ random delete 2

    ✓ random delete 3

    ✓ random insert/delete \r bug 1

    ✓ random insert/delete \r bug 2

    ✓ random insert/delete \r bug 3

    ✓ random insert/delete \r bug 4s

    ✓ random insert/delete \r bug 5

  prefix sum for line feed

    ✓ basic

    ✓ append

    ✓ insert

    ✓ delete

    ✓ add+delete 1

    ✓ insert random bug 1: prefixSumComputer.removeValues(start, cnt) cnt is 1 based.

    ✓ insert random bug 2: prefixSumComputer initialize does not do deep copy of UInt32Array.

    ✓ delete random bug 1: I forgot to update the lineFeedCnt when deletion is on one single piece.

    ✓ delete random bug rb tree 1

    ✓ delete random bug rb tree 2

    ✓ delete random bug rb tree 3

  offset 2 position

    ✓ random tests bug 1

  get text in range

    ✓ getContentInRange

    ✓ random test value in range

    ✓ random test value in range exception

    ✓ random tests bug 1

    ✓ random tests bug 2

    ✓ get line content

    ✓ get line content basic

    ✓ get line content after inserts/deletes

    ✓ random 1

    ✓ random 2

  CRLF

    ✓ delete CR in CRLF 1

    ✓ delete CR in CRLF 2

    ✓ random bug 1

    ✓ random bug 2

    ✓ random bug 3

    ✓ random bug 4

    ✓ random bug 5

    ✓ random bug 6

    ✓ random bug 8

    ✓ random bug 7

    ✓ random bug 10

    ✓ random bug 9

  centralized lineStarts with CRLF

    ✓ delete CR in CRLF 1

    ✓ delete CR in CRLF 2

    ✓ random bug 1

    ✓ random bug 2

    ✓ random bug 3

    ✓ random bug 4

    ✓ random bug 5

    ✓ random bug 6

    ✓ random bug 7

    ✓ random bug 8

    ✓ random bug 9

    ✓ random bug 10

    ✓ random chunk bug 1

    ✓ random chunk bug 2

    ✓ random chunk bug 3

    ✓ random chunk bug 4

  random is unsupervised

    ✓ splitting large change buffer

    ✓ random insert delete (89ms)

    ✓ random chunks (42ms)

    ✓ random chunks 2

  buffer api

    ✓ equal

    ✓ equal 2, empty buffer

    ✓ equal 3, empty buffer

    ✓ getLineCharCode - issue #45735

    ✓ getLineCharCode - issue #47733

  search offset cache

    ✓ render white space exception

    ✓ Line breaks replacement is not necessary when EOL is normalized

    ✓ Line breaks replacement is not necessary when EOL is normalized 2

    ✓ Line breaks replacement is not necessary when EOL is normalized 3

    ✓ Line breaks replacement is not necessary when EOL is normalized 4

  snapshot

    ✓ bug #45564, piece tree pieces should be immutable

    ✓ immutable snapshot 1

    ✓ immutable snapshot 2

    ✓ immutable snapshot 3

  chunk based search

    ✓ #45892. For some cases, the buffer is empty but we still try to search

    ✓ #45770. FindInNode should not cross node boundary.

    ✓ search searching from the middle

  TextModelSearch

    ✓ Simple find

    ✓ Case sensitive find

    ✓ Whole words find

    ✓ /^/ find

    ✓ /$/ find

    ✓ /.*/ find

    ✓ /^$/ find

    ✓ multiline find 1

    ✓ multiline find 2

    ✓ multiline find 3

    ✓ multiline find 4

    ✓ multiline find with line beginning regex

    ✓ matching empty lines using boundary expression

    ✓ matching lines starting with A and ending with B

    ✓ multiline find with line ending regex

    ✓ issue #4836 - ^.*$

    ✓ multiline find for non-regex string

    ✓ issue #3623: Match whole word does not work for not latin characters

    ✓ issue #27459: Match whole words regression

    ✓ issue #27594: Search results disappear

    ✓ findNextMatch without regex

    ✓ findNextMatch with beginning boundary regex

    ✓ findNextMatch with beginning boundary regex and line has repetitive beginnings

    ✓ findNextMatch with beginning boundary multiline regex and line has repetitive beginnings

    ✓ findNextMatch with ending boundary regex

    ✓ findMatches with capturing matches

    ✓ findMatches multiline with capturing matches

    ✓ findNextMatch with capturing matches

    ✓ findNextMatch multiline with capturing matches

    ✓ findPreviousMatch with capturing matches

    ✓ findPreviousMatch multiline with capturing matches

    ✓ \n matches \r\n

    ✓ \r can never be found

    ✓ parseSearchRequest invalid

    ✓ parseSearchRequest non regex

    ✓ parseSearchRequest regex

    ✓ issue #53415. W should match line break.

  TextModelWithTokens

    ✓ brackets

  TextModelWithTokens - bracket matching

    ✓ bracket matching 1

    ✓ bracket matching 2

  TextModelWithTokens regression tests

    ✓ Microsoft/monaco-editor#122: Unhandled Exception: TypeError: Unable to get property 'replace' of undefined or null reference

    ✓ Microsoft/monaco-editor#133: Error: Cannot read property 'modeId' of undefined

    ✓ issue #11856: Bracket matching does not work as expected if the opening brace symbol is contained in the closing brace symbol

  TextModel.getLineIndentGuide

    ✓ getLineIndentGuide one level

    ✓ getLineIndentGuide two levels

    ✓ getLineIndentGuide three levels

    ✓ getLineIndentGuide decreasing indent

    ✓ getLineIndentGuide Java

    ✓ getLineIndentGuide Javadoc

    ✓ getLineIndentGuide Whitespace

    ✓ getLineIndentGuide Tabs

    ✓ getLineIndentGuide checker.ts

    ✓ issue #8425 - Missing indentation lines for first level indentation

    ✓ issue #8952 - Indentation guide lines going through text on .yml file

    ✓ issue #11892 - Indent guides look funny

    ✓ issue #12398 - Problem in indent guidelines

    ✓ issue #49173

  SmartSnippetInserter

    ✓ empty text

    ✓ empty array 1

    ✓ empty array 2

    ✓ empty array 3

    ✓ one element array 1

    ✓ two elements array 1

    ✓ two elements array 2

  FoldingRanges

    ✓ test max folding regions (190ms)

    ✓ findRange

    ✓ setCollapsed

  Folding Model

    ✓ getRegionAtLine

    ✓ collapse

    ✓ update

    ✓ delete

    ✓ getRegionsInside

    ✓ getRegionsInsideWithLevel

    ✓ getRegionAtLine

    ✓ setCollapseStateRecursivly

    ✓ setCollapseStateAtLevel

    ✓ setCollapseStateLevelsDown

    ✓ setCollapseStateLevelsUp

    ✓ setCollapseStateForMatchingLines

  Hidden Range Model

    ✓ hasRanges

  Indentation Folding

    ✓ Fold one level

    ✓ Fold two levels

    ✓ Fold three levels

    ✓ Fold decreasing indent

    ✓ Fold Java

    ✓ Fold Javadoc

    ✓ Fold Whitespace Java

    ✓ Fold Whitespace Python

    ✓ Fold Tabs

  Folding with regions

    ✓ Inside region, indented

    ✓ Inside region, not indented

    ✓ Empty Regions

    ✓ Nested Regions

    ✓ Nested Regions 2

    ✓ Incomplete Regions

    ✓ Incomplete Regions 2

    ✓ Indented region before

    ✓ Indented region before 2

    ✓ Indented region in-between

    ✓ Indented region after

    ✓ With off-side

    ✓ Nested with off-side

    ✓ Issue 35981

    ✓ Misspelled Markers

  Indentation Folding

    ✓ Limit by indent

  TextModelData.fromString

    ✓ one line text

    ✓ multiline text

    ✓ Non Basic ASCII 1

    ✓ containsRTL 1

    ✓ containsRTL 2

  Editor Model - TextModel

    ✓ getValueLengthInRange

    ✓ guess indentation 1

    ✓ issue #44991: Wrong indentation size auto-detection

    ✓ issue #55818: Broken indentation detection

    ✓ validatePosition

    ✓ validatePosition around high-low surrogate pairs 1

    ✓ validatePosition around high-low surrogate pairs 2

    ✓ validatePosition handle NaN.

    ✓ validateRange around high-low surrogate pairs 1

    ✓ validateRange around high-low surrogate pairs 2

    ✓ modifyPosition

    ✓ normalizeIndentation 1

    ✓ normalizeIndentation 2

    ✓ getLineFirstNonWhitespaceColumn

    ✓ getLineLastNonWhitespaceColumn

    ✓ #50471. getValueInRange with invalid range

  TextModel.mightContainRTL

    ✓ nope

    ✓ yes

    ✓ setValue resets 1

    ✓ setValue resets 2

  TextModel.createSnapshot

    ✓ empty file

    ✓ file with BOM

    ✓ regular file

    ✓ large file

  CursorMove

    ✓ nextTabStop

    ✓ visibleColumnFromColumn

    ✓ columnFromVisibleColumn

  EditorModel Auto Tests

    ✓ auto1

    ✓ auto2

    ✓ auto3

    ✓ auto4

  EditorModel - EditableTextModel.applyEdits updates mightContainRTL

    ✓ start with RTL, insert LTR

    ✓ start with RTL, delete RTL

    ✓ start with RTL, insert RTL

    ✓ start with LTR, insert LTR

    ✓ start with LTR, insert RTL 1

    ✓ start with LTR, insert RTL 2

  EditorModel - EditableTextModel.applyEdits updates mightContainNonBasicASCII

    ✓ start with NON-ASCII, insert ASCII

    ✓ start with NON-ASCII, delete NON-ASCII

    ✓ start with NON-ASCII, insert NON-ASCII

    ✓ start with ASCII, insert ASCII

    ✓ start with ASCII, insert NON-ASCII

  EditorModel - EditableTextModel.applyEdits

    ✓ high-low surrogates 1

    ✓ high-low surrogates 2

    ✓ high-low surrogates 3

    ✓ high-low surrogates 4

    ✓ Bug 19872: Undo is funky

    ✓ Bug 19872: Undo is funky

    ✓ insert empty text

    ✓ last op is no-op

    ✓ insert text without newline 1

    ✓ insert text without newline 2

    ✓ insert one newline

    ✓ insert text with one newline

    ✓ insert text with two newlines

    ✓ insert text with many newlines

    ✓ insert multiple newlines

    ✓ delete empty text

    ✓ delete text from one line

    ✓ delete text from one line 2

    ✓ delete all text from a line

    ✓ delete text from two lines

    ✓ delete text from many lines

    ✓ delete everything

    ✓ two unrelated edits

    ✓ two edits on one line

    ✓ many edits

    ✓ many edits reversed

    ✓ replacing newlines 1

    ✓ replacing newlines 2

    ✓ advanced 1

    ✓ advanced simplified

    ✓ issue #144

    ✓ issue #2586 Replacing selected end-of-line with newline locks up the document

    ✓ issue #3980

    ✓ touching edits: two inserts at the same position

    ✓ touching edits: insert and replace touching

    ✓ overlapping edits: two overlapping replaces

    ✓ overlapping edits: two overlapping deletes

    ✓ touching edits: two touching replaces

    ✓ touching edits: two touching deletes

    ✓ touching edits: insert and replace

    ✓ touching edits: replace and insert

    ✓ change while emitting events 1

    ✓ change while emitting events 2

    ✓ issue #1580: Changes in line endings are not correctly reflected in the extension host, leading to invalid offsets sent to external refactoring tools

    ✓ issue #47733: Undo mangles unicode characters

    ✓ issue #48741: Broken undo stack with move lines up with multiple cursors

  Keybindings Editor Model test

    ✓ fetch returns default keybindings

    ✓ fetch returns default keybindings at the top

    ✓ fetch returns default keybindings sorted by command id

    ✓ fetch returns user keybinding first if default and user has same id

    ✓ fetch returns keybinding with titles first

    ✓ fetch returns keybinding with user first if title and id matches

    ✓ fetch returns default keybindings sorted by precedence

    ✓ convert keybinding without title to entry

    ✓ convert keybinding with title to entry

    ✓ convert without title and binding to entry

    ✓ convert with title and wihtout binding to entry

    ✓ filter by command id

    ✓ filter by command title

    ✓ filter by default source

    ✓ filter by user source

    ✓ filter by default source with "@source: " prefix

    ✓ filter by user source with "@source: " prefix

    ✓ filter by when context

    ✓ filter by cmd key

    ✓ filter by meta key

    ✓ filter by command key

    ✓ filter by windows key

    ✓ filter by alt key

    ✓ filter by option key

    ✓ filter by ctrl key

    ✓ filter by control key

    ✓ filter by shift key

    ✓ filter by arrow

    ✓ filter by modifier and key

    ✓ filter by key and modifier

    ✓ filter by modifiers and key

    ✓ filter by modifiers in random order and key

    ✓ filter by first part

    ✓ filter matches in chord part

    ✓ filter matches first part and in chord part

    ✓ filter exact matches

    ✓ filter exact matches with first and chord part

    ✓ filter exact matches with first and chord part no results

    ✓ filter matches with + separator

    ✓ filter matches with + separator in first and chord parts

    ✓ filter exact matches with space #32993

  Suggest

    ✓ sort - snippet inline

    ✓ sort - snippet top

    ✓ sort - snippet bottom

    ✓ sort - snippet none

    ✓ only from

  CompletionModel

    ✓ filtering - cached

    ✓ complete/incomplete

    ✓ replaceIncomplete

    ✓ Fuzzy matching of snippets stopped working with inline snippet suggestions #49895

    ✓ proper current word when length=0, #16380

    ✓ keep snippet sorting with prefix: top, #25495

    ✓ keep snippet sorting with prefix: bottom, #25495

    ✓ keep snippet sorting with prefix: inline, #25495

    ✓ filterText seems ignored in autocompletion, #26874

    ✓ Vscode 1.12 no longer obeys 'sortText' in completion items (from language server), #26096

    ✓ Score only filtered items when typing more, score all when typing less

    ✓ Have more relaxed suggest matching algorithm #15419

    ✓ Emmet suggestion not appearing at the top of the list in jsx files, #39518

  SuggestMemories

    ✓ AbstractMemory, select

    ✓ [No|Prefix|LRU]Memory honor selection boost

    ✓ NoMemory

    ✓ LRUMemory

    ✓ intellisense is not showing top options first #43429

    ✓ PrefixMemory

  CodeAction

    ✓ CodeActions are sorted by type, #38623

    ✓ getCodeActions should filter by scope

    ✓ getCodeActions should forward requested scope to providers

    ✓ getCodeActions should not return source code action by default

    ✓ getCodeActions should not invoke code action providers filtered out by providedCodeActionKinds

  Editor ViewModel - CharacterHardWrappingLineMapper

    ✓ CharacterHardWrappingLineMapper

    ✓ CharacterHardWrappingLineMapper - CJK and Kinsoku Shori

    ✓ CharacterHardWrappingLineMapper - WrappingIndent.Same

    ✓ issue #16332: Scroll bar overlaying on top of text

    ✓ issue #35162: wrappingIndent not consistently working

    ✓ CharacterHardWrappingLineMapper - WrappingIndent.DeepIndent

  MinimapCharRenderer

    ✓ letter d @ 2x

    ✓ letter d @ 2x at runtime

    ✓ letter d @ 1x

    ✓ letter d @ 1x at runtime

  EditorSimpleWorker

    ✓ ICommonModel#offsetAt

    ✓ ICommonModel#positionAt

    ✓ ICommonModel#validatePosition, issue #15882

    ✓ MoreMinimal

    ✓ MoreMinimal, issue #15385 newline changes only

    ✓ MoreMinimal, issue #15385 newline changes and other

    ✓ MoreMinimal, issue #15385 newline changes and other

    ✓ ICommonModel#getValueInRange, issue #17424

    ✓ textualSuggest, issue #17785

    ✓ get words via iterator, issue #46930

  EnvironmentService

    ✓ parseExtensionHostPort when built

    ✓ parseExtensionHostPort when unbuilt

    ✓ userDataPath

  Extension Version Validator

    ✓ isValidVersionStr

    ✓ parseVersion

    ✓ normalizeVersion

    ✓ isValidVersion

    ✓ isValidExtensionVersion

  Workbench - TerminalEnvironment

    ✓ addTerminalEnvironmentKeys

    ✓ sanitizeEnvironment

    ✓ preparePathForTerminal
    mergeEnvironments

      ✓ should add keys

      ✓ should add keys ignoring case on Windows

      ✓ null values should delete keys from the parent env

      ✓ null values should delete keys from the parent env ignoring case on Windows
    getCwd

      ✓ should default to os.homedir() for an empty workspace

      ✓ should use to the workspace if it exists

      ✓ should use an absolute custom cwd as is

      ✓ should normalize a relative custom cwd against the workspace path

      ✓ should fall back for relative a custom cwd that doesn't have a workspace

      ✓ should ignore custom cwd when told to ignore

  LanguagesRegistry

    ✓ output mode does not have a name

    ✓ mode with alias does have a name

    ✓ mode without alias gets a name

    ✓ bug #4360: f# not shown in status bar

    ✓ issue #5278: Extension cannot override language name anymore

    ✓ mimetypes are generated if necessary

    ✓ first mimetype wins

    ✓ first mimetype wins 2

    ✓ aliases

    ✓ empty aliases array means no alias

    ✓ extensions

    ✓ filenames

    ✓ configuration

  Configuration

    ✓ simple merge

    ✓ removeFromValueTree: remove a non existing key

    ✓ removeFromValueTree: remove a multi segmented key from an object that has only sub sections of the key

    ✓ removeFromValueTree: remove a single segemented key

    ✓ removeFromValueTree: remove a single segemented key when its value is undefined

    ✓ removeFromValueTree: remove a multi segemented key when its value is undefined

    ✓ removeFromValueTree: remove a multi segemented key when its value is array

    ✓ removeFromValueTree: remove a multi segemented key first segment value is array

    ✓ removeFromValueTree: remove when key is the first segmenet

    ✓ removeFromValueTree: remove a multi segemented key when the first node has more values

    ✓ removeFromValueTree: remove a multi segemented key when in between node has more values

    ✓ removeFromValueTree: remove a multi segemented key when the last but one node has more values

  TokenSelectionSupport

    ✓ getRangesToPosition #1

    ✓ getRangesToPosition #56886. Skip empty lines correctly.

    ✓ getRangesToPosition #56886. Do not skip lines with only whitespaces.

    ✓ getRangesToPosition #40658. Cursor at first position inside brackets should select line inside.

    ✓ getRangesToPosition #40658. Cursor in empty brackets should reveal brackets first.

    ✓ getRangesToPosition #40658. Tokens before bracket will be revealed first.

  ModelService

    ✓ EOL setting respected depending on root

    ✓ _computeEdits no change

    ✓ _computeEdits first line changed

    ✓ _computeEdits EOL changed

    ✓ _computeEdits EOL and other change 1

    ✓ _computeEdits EOL and other change 2

    ✓ generated1

    ✓ generated2

    ✓ generated3

    ✓ generated4

    ✓ does insertions in the middle of the document

    ✓ does insertions at the end of the document

    ✓ does insertions at the beginning of the document

    ✓ does replacements

    ✓ does deletions

    ✓ does insert, replace, and delete

  AbstractKeybindingService

    ✓ issue #16498: chord mode is quit for invalid chords

    ✓ issue #16833: Keybinding service should not testDispatch on modifier keys

    ✓ can trigger command that is sharing keybinding with chord

    ✓ cannot trigger chord if command is overwriting

    ✓ can have spying command

  SearchResult

    ✓ Line Match

    ✓ Line Match - Remove

    ✓ File Match

    ✓ File Match: Select an existing match

    ✓ File Match: Select non existing match

    ✓ File Match: isSelected return true for selected match

    ✓ File Match: isSelected return false for un-selected match

    ✓ File Match: unselect

    ✓ File Match: unselect when not selected

    ✓ Alle Drei Zusammen

    ✓ Adding a raw match will add a file match with line matches

    ✓ Adding multiple raw matches

    ✓ Dispose disposes matches

    ✓ remove triggers change event

    ✓ remove triggers change event

    ✓ Removing all line matches and adding back will add file back to result

    ✓ replace should remove the file match

    ✓ replace should trigger the change event

    ✓ replaceAll should remove all file matches

  SearchModel

    ✓ Search Model: Search adds to results

    ✓ Search Model: Search reports telemetry on search completed

    ✓ Search Model: Search reports timed telemetry on search when progress is not called

    ✓ Search Model: Search reports timed telemetry on search when progress is called

    ✓ Search Model: Search reports timed telemetry on search when error is called

    ✓ Search Model: Search reports timed telemetry on search when error is cancelled error

    ✓ Search Model: Search results are cleared during search

    ✓ Search Model: Previous search is cancelled when new search is called

    ✓ getReplaceString returns proper replace string for regExpressions

  Execution - TerminalService

    ✓ WinTerminalService - uses terminal from configuration

    ✓ WinTerminalService - uses default terminal when configuration.terminal.external.windowsExec is undefined

    ✓ WinTerminalService - uses default terminal when configuration.terminal.external.windowsExec is undefined

    ✓ WinTerminalService - cmder should be spawned differently

    ✓ MacTerminalService - uses terminal from configuration

    ✓ MacTerminalService - uses default terminal when configuration.terminal.external.osxExec is undefined

    ✓ LinuxTerminalService - uses terminal from configuration

    ✓ LinuxTerminalService - uses default terminal when configuration.terminal.external.linuxExec is undefined

  BoundModelReferenceCollection

    ✓ max age

    ✓ max size

  ConfigurationModel

    ✓ setValue for a key that has no sections and not defined

    ✓ setValue for a key that has no sections and defined

    ✓ setValue for a key that has sections and not defined

    ✓ setValue for a key that has sections and defined

    ✓ setValue for a key that has sections and sub section not defined

    ✓ setValue for a key that has sections and sub section defined

    ✓ setValue for a key that has sections and last section is added

    ✓ removeValue: remove a non existing key

    ✓ removeValue: remove a single segemented key

    ✓ removeValue: remove a multi segemented key

    ✓ get overriding configuration model for an existing identifier

    ✓ get overriding configuration model for an identifier that does not exist

    ✓ get overriding configuration when one of the keys does not exist in base

    ✓ get overriding configuration when one of the key in base is not of object type

    ✓ get overriding configuration when one of the key in overriding contents is not of object type

    ✓ get overriding configuration if the value of overriding identifier is not object

    ✓ get overriding configuration if the value of overriding identifier is an empty object

    ✓ simple merge

    ✓ recursive merge

    ✓ simple merge overrides

    ✓ recursive merge overrides

    ✓ merge overrides when frozen

    ✓ Test contents while getting an existing property

    ✓ Test contents are undefined for non existing properties

    ✓ Test override gives all content merged with overrides

  CustomConfigurationModel

    ✓ simple merge using models

    ✓ simple merge with an undefined contents

    ✓ Recursive merge using config models

    ✓ Test contents while getting an existing property

    ✓ Test contents are undefined for non existing properties

    ✓ Test contents are undefined for undefined config

    ✓ Test configWithOverrides gives all content merged with overrides

    ✓ Test configWithOverrides gives empty contents

    ✓ Test update with empty data

    ✓ Test registering the same property again

  ConfigurationChangeEvent

    ✓ changeEvent affecting keys for all resources

    ✓ changeEvent affecting a root key and its children

    ✓ changeEvent affecting keys for resources

    ✓ merging change events

  TelemetryService

    ✓ Disposing

    ✓ Simple event

    ✓ Event with data

    ✓ common properties added to *all* events, simple event

    ✓ common properties added to *all* events, event with data

    ✓ TelemetryInfo comes from properties

    ✓ enableTelemetry on by default

    ✓ Error events

    ✓ Handle global errors

    ✓ Error Telemetry removes PII from filename with spaces

    ✓ Uncaught Error Telemetry removes PII from filename

    ✓ Unexpected Error Telemetry removes PII

    ✓ Uncaught Error Telemetry removes PII

    ✓ Unexpected Error Telemetry removes PII but preserves Code file path

    ✓ Uncaught Error Telemetry removes PII but preserves Code file path

    ✓ Unexpected Error Telemetry removes PII but preserves Code file path with node modules

    ✓ Uncaught Error Telemetry removes PII but preserves Code file path

    ✓ Unexpected Error Telemetry removes PII but preserves Code file path when PIIPath is configured

    ✓ Uncaught Error Telemetry removes PII but preserves Code file path when PIIPath is configured

    ✓ Unexpected Error Telemetry removes PII but preserves Missing Model error message

    ✓ Uncaught Error Telemetry removes PII but preserves Missing Model error message

    ✓ Unexpected Error Telemetry removes PII but preserves No Such File error message

    ✓ Uncaught Error Telemetry removes PII but preserves No Such File error message

    ✓ Telemetry Service sends events when enableTelemetry is on

    ✓ Telemetry Service checks with config service

  FolderSettingsModelParser

    ✓ parse all folder settings

    ✓ parse resource folder settings

    ✓ parse overridable resource settings

    ✓ reprocess folder settings excludes application setting

  StandaloneConfigurationModelParser

    ✓ parse tasks stand alone configuration model

  WorkspaceConfigurationChangeEvent

    ✓ changeEvent affecting workspace folders

  AllKeysConfigurationChangeEvent

    ✓ changeEvent affects keys for any resource

  Preferences Model test

    ✓ exclusive max and max work together properly

    ✓ exclusive min and min work together properly

    ✓ multiple of works for both integers and fractions

    ✓ integer type correctly adds a validation

    ✓ null is allowed only when expected

    ✓ string max min length work

    ✓ patterns work

    ✓ custom error messages are shown

  ExtHostConfiguration

    ✓ getConfiguration fails regression test 1.7.1 -> 1.8 #15552

    ✓ has/get

    ✓ can modify the returned configuration

    ✓ Stringify returned configuration

    ✓ cannot modify returned configuration

    ✓ inspect in no workspace context

    ✓ inspect in single root context

    ✓ inspect in multi root context

    ✓ getConfiguration vs get

    ✓ getConfiguration vs get

    ✓ name vs property

    ✓ update: no target passes null

    ✓ update/section to key

    ✓ update, what is #15834

    ✓ update/error-state not OK

    ✓ configuration change event

  Common Editor Config

    ✓ Zoom Level

    ✓ wordWrap default

    ✓ wordWrap compat false

    ✓ wordWrap compat true

    ✓ wordWrap on

    ✓ wordWrap on without minimap

    ✓ wordWrap on does not use wordWrapColumn

    ✓ wordWrap off

    ✓ wordWrap off does not use wordWrapColumn

    ✓ wordWrap wordWrapColumn uses default wordWrapColumn

    ✓ wordWrap wordWrapColumn uses wordWrapColumn

    ✓ wordWrap wordWrapColumn validates wordWrapColumn

    ✓ wordWrap bounded uses default wordWrapColumn

    ✓ wordWrap bounded uses wordWrapColumn

    ✓ wordWrap bounded validates wordWrapColumn

    ✓ issue #53152: Cannot assign to read only property 'enabled' of object

  Editor ViewModel - SplitLinesCollection

    ✓ SplitLine

    ✓ Invalid line numbers

    ✓ issue #3662

  SplitLinesCollection

    ✓ getViewLinesData - no wrapping

    ✓ getViewLinesData - with wrapping

  ViewModelDecorations

    ✓ getDecorationsViewportData

    ✓ issue #17208: Problem scrolling in 1.8.0

    ✓ issue #37401: Allow both before and after decorations on empty line

  ViewModel

    ✓ issue #21073: SplitLinesCollection: attempt to access a 'newer' model

    ✓ issue #44805: SplitLinesCollection: attempt to access a 'newer' model

    ✓ issue #44805: No visible lines via API call

    ✓ issue #44805: No visible lines via undoing

    ✓ getPlainTextToCopy 0/1

    ✓ getPlainTextToCopy 0/1 - emptySelectionClipboard

    ✓ getPlainTextToCopy 1/1

    ✓ getPlainTextToCopy 1/1 - emptySelectionClipboard

    ✓ getPlainTextToCopy 0/2

    ✓ getPlainTextToCopy 0/2 - emptySelectionClipboard

    ✓ getPlainTextToCopy 1/2

    ✓ getPlainTextToCopy 1/2 - emptySelectionClipboard

    ✓ getPlainTextToCopy 2/2

    ✓ getPlainTextToCopy 2/2 reversed

    ✓ getPlainTextToCopy 0/3 - emptySelectionClipboard

    ✓ issue #22688 - always use CRLF for clipboard on Windows

  ConfigurationService - Node

    ✓ simple

    ✓ config gets flattened

    ✓ error case does not explode

    ✓ missing file does not explode

    ✓ reloadConfiguration

    ✓ model defaults

    ✓ lookup

    ✓ lookup with null

  ExtensionEnablementService Test

    ✓ test when no extensions are disabled

    ✓ test when no extensions are disabled for workspace when there is no workspace

    ✓ test disable an extension globally

    ✓ test disable an extension globally should return truthy promise

    ✓ test disable an extension globally triggers the change event

    ✓ test disable an extension globally again should return a falsy promise

    ✓ test state of globally disabled extension

    ✓ test state of globally enabled extension

    ✓ test disable an extension for workspace

    ✓ test disable an extension for workspace returns a truthy promise

    ✓ test disable an extension for workspace again should return a falsy promise

    ✓ test state of workspace disabled extension

    ✓ test state of workspace and globally disabled extension

    ✓ test state of workspace enabled extension

    ✓ test state of globally disabled and workspace enabled extension

    ✓ test state of an extension when disabled for workspace from workspace enabled

    ✓ test state of an extension when disabled globally from workspace enabled

    ✓ test state of an extension when disabled globally from workspace disabled

    ✓ test state of an extension when enabled globally from workspace enabled

    ✓ test state of an extension when enabled globally from workspace disabled

    ✓ test disable an extension for workspace and then globally

    ✓ test disable an extension for workspace and then globally return a truthy promise

    ✓ test disable an extension for workspace and then globally trigger the change event

    ✓ test disable an extension globally and then for workspace

    ✓ test disable an extension globally and then for workspace return a truthy promise

    ✓ test disable an extension globally and then for workspace triggers the change event

    ✓ test disable an extension for workspace when there is no workspace throws error

    ✓ test enable an extension globally

    ✓ test enable an extension globally return truthy promise

    ✓ test enable an extension globally triggers change event

    ✓ test enable an extension globally when already enabled return falsy promise

    ✓ test enable an extension for workspace

    ✓ test enable an extension for workspace return truthy promise

    ✓ test enable an extension for workspace triggers change event

    ✓ test enable an extension for workspace when already enabled return truthy promise

    ✓ test enable an extension for workspace when disabled in workspace and gloablly

    ✓ test enable an extension globally when disabled in workspace and gloablly

    ✓ test remove an extension from disablement list when uninstalled

    ✓ test isEnabled return false extension is disabled globally

    ✓ test isEnabled return false extension is disabled in workspace

    ✓ test isEnabled return true extension is not disabled

    ✓ test canChangeEnablement return false for language packs

    ✓ test canChangeEnablement return false when extensions are disabled in environment

    ✓ test canChangeEnablement return false when the extension is disabled in environment

    ✓ test canChangeEnablement return true for system extensions when extensions are disabled in environment

    ✓ test canChangeEnablement return false for system extensions when extension is disabled in environment

    ✓ test getDisabledExtensions include extensions disabled in enviroment

  Workbench StorageSevice

    ✓ Remove Data

    ✓ Get Data, Integer, Boolean

    ✓ StorageSevice cleans up when workspace changes

  Memento

    ✓ Loading and Saving Memento with Scopes

    ✓ Save and Load

    ✓ Save and Load - 2 Components with same id

  Storage Migration

    ✓ Parse Storage (Global)

    ✓ Parse Storage (mixed)

    ✓ Parse Storage (handle subfolders properly)

    ✓ Migrate Storage (folder (Unix) => multi root)

    ✓ Migrate Storage (folder (Windows) => multi root)

    ✓ Migrate Storage (folder (Windows UNC) => multi root)

    ✓ Migrate Storage (empty => multi root)

  Debug - Source

    ✓ from raw source

    ✓ from raw internal source

    ✓ get encoded debug data

  Debug - View Model

    ✓ focused stack frame

    ✓ selected expression

    ✓ multi session view and changed workbench state

  Telemetry - WorkspaceStats

    ✓ HTTPS remotes

    ✓ SSH remotes

    ✓ SCP-like remotes

    ✓ Local remotes

    ✓ Multiple remotes

    ✓ Whitelisting

    ✓ HTTPS remotes to be hashed

    ✓ SSH remotes to be hashed

    ✓ SCP-like remotes to be hashed

    ✓ Local remotes to be hashed

    ✓ Multiple remotes to be hashed

    ✓ Single remote hashed

    ✓ Multiple remotes hashed

  SettingsTree

    ✓ settingKeyToDisplayFormat

    ✓ settingKeyToDisplayFormat - with category

    ✓ parseQuery

  Progress Service

    ✓ ScopedService

    ✓ WorkbenchProgressService

  Workbench editor model

    ✓ EditorModel

    ✓ BaseTextEditorModel

  ProblemPatternParser
    single-pattern definitions

      ✓ parses a pattern defined by only a regexp

      ✓ does not sets defaults for line and character if kind is File
    multi-pattern definitions

      ✓ defines a pattern based on regexp and property fields, with file/line location

      ✓ defines a pattern bsaed on regexp and property fields, with location

      ✓ accepts a pattern that provides the fields from multiple entries

      ✓ forbids setting the loop flag outside of the last element in the array

      ✓ forbids setting the kind outside of the first element of the array

      ✓ kind: Location requires a regexp

      ✓ kind: Location requires a regexp on every entry

      ✓ kind: Location requires a message

      ✓ kind: Location requires a file

      ✓ kind: Location requires either a line or location

      ✓ kind: File accepts a regexp, file and message

      ✓ kind: File requires a file

      ✓ kind: File requires a message

  Debug - Debugger

    ✓ attributes

    ✓ schema attributes

    ✓ merge platform specific attributes

    ✓ initial config file content

  getNonWhitespacePrefix

    ✓ empty line

    ✓ singleWordLine

    ✓ two word line

    ✓ many separators

  SnippetsService

    ✓ snippet completions - simple

    ✓ snippet completions - with prefix

    ✓ snippet completions - with different prefixes

    ✓ Cannot use "<?php" as user snippet prefix anymore, #26275

    ✓ No user snippets in suggestions, when inside the code, #30508

    ✓ SnippetSuggest - ensure extension snippets come last 

    ✓ Dash in snippets prefix broken #53945

    ✓ No snippets suggestion on long lines beyond character 100 #58807

  Workbench - TerminalColorRegistry

    ✓ hc colors

    ✓ light colors

    ✓ dark colors

  Tasks version 0.1.0

    ✓ tasks: all default

    ✓ tasks: global isShellCommand

    ✓ tasks: global show output silent

    ✓ tasks: global promptOnClose default

    ✓ tasks: global promptOnClose

    ✓ tasks: global promptOnClose default watching

    ✓ tasks: global show output never

    ✓ tasks: global echo Command

    ✓ tasks: global args

    ✓ tasks: options - cwd

    ✓ tasks: options - env

    ✓ tasks: os windows

    ✓ tasks: os windows & global isShellCommand

    ✓ tasks: os mac

    ✓ tasks: os linux

    ✓ tasks: overwrite showOutput

    ✓ tasks: overwrite echo Command

    ✓ tasks: global problemMatcher one

    ✓ tasks: global problemMatcher two

    ✓ tasks: task definition

    ✓ tasks: build task

    ✓ tasks: default build task

    ✓ tasks: test task

    ✓ tasks: default test task

    ✓ tasks: task with values

    ✓ tasks: task inherits global values

    ✓ tasks: problem matcher default

    ✓ tasks: problem matcher .* regular expression

    ✓ tasks: problem matcher owner, applyTo, severity and fileLocation

    ✓ tasks: problem matcher fileLocation and filePrefix

    ✓ tasks: problem pattern location

    ✓ tasks: problem pattern line & column

    ✓ tasks: prompt on close default

    ✓ tasks: prompt on close watching

    ✓ tasks: prompt on close set

    ✓ tasks: task selector set

    ✓ tasks: suppress task name set

    ✓ tasks: suppress task name inherit

    ✓ tasks: two tasks

    ✓ tasks: with command

    ✓ tasks: two tasks with command

    ✓ tasks: with command and args

    ✓ tasks: with command os specific

    ✓ tasks: with Windows specific args

    ✓ tasks: with Linux specific args

    ✓ tasks: global command and task command properties

    ✓ tasks: global and tasks args

    ✓ tasks: global and tasks args with task selector

  Tasks version 2.0.0

    ✓ Build workspace task

    ✓ Global group none

    ✓ Global group build

    ✓ Global group default build

    ✓ Local group none

    ✓ Local group build

    ✓ Local group default build

    ✓ Arg overwrite

  Bugs / regression tests

    ✓ Bug 19548

    ✓ Bug 28489

  Workbench - TerminalConfigHelper

    ✓ TerminalConfigHelper - getFont fontFamily (52ms)

    ✓ TerminalConfigHelper - getFont fontSize

    ✓ TerminalConfigHelper - getFont lineHeight

    ✓ TerminalConfigHelper - isMonospace monospace

    ✓ TerminalConfigHelper - isMonospace sans-serif

    ✓ TerminalConfigHelper - isMonospace serif

    ✓ TerminalConfigHelper - isMonospace monospace falls back to editor.fontFamily

    ✓ TerminalConfigHelper - isMonospace sans-serif falls back to editor.fontFamily

    ✓ TerminalConfigHelper - isMonospace serif falls back to editor.fontFamily

  Workbench - TerminalLinkHandler
    localLinkRegex

      ✓ Windows

      ✓ Linux
    preprocessPath

      ✓ Windows

      ✓ Windows - spaces

      ✓ Linux

      ✓ No Workspace

  RPCProtocol

    ✓ simple call

    ✓ simple call without result

    ✓ passing buffer as argument

    ✓ returning a buffer

    ✓ cancelling a call via CancellationToken before

    ✓ passing CancellationToken.None

    ✓ cancelling a call via CancellationToken quickly

    ✓ throwing an error

    ✓ error promise

  RipgrepParser

    ✓ Parses one chunk

    ✓ Parses multiple chunks broken at file sections

    ✓ Parses multiple chunks broken at each line

    ✓ Parses multiple chunks broken in the middle of each line

    ✓ Parses multiple chunks broken at each character

    ✓ Parses chunks broken before newline

    ✓ Parses chunks broken in the middle of a multibyte character

  RipgrepTextSearch - etc

    ✓ getAbsoluteGlob_win

    ✓ getAbsoluteGlob_posix

    ✓ fixRegexEndingPattern

  FileSearchEngine

    ✓ Files: *.js (74ms)

    ✓ Files: maxResults

    ✓ Files: maxResults without Ripgrep

    ✓ Files: exists

    ✓ Files: not exists

    ✓ Files: exists without Ripgrep

    ✓ Files: not exists without Ripgrep

    ✓ Files: examples/com*

    ✓ Files: examples (fuzzy)

    ✓ Files: multiroot

    ✓ Files: multiroot with includePattern and maxResults

    ✓ Files: multiroot with includePattern and exists

    ✓ Files: NPE (CamelCase)

    ✓ Files: *.*

    ✓ Files: *.as

    ✓ Files: *.* without derived

    ✓ Files: *.* exclude folder without wildcard

    ✓ Files: exclude folder without wildcard #36438

    ✓ Files: include folder without wildcard #36438

    ✓ Files: *.* exclude folder with leading wildcard

    ✓ Files: *.* exclude folder with trailing wildcard

    ✓ Files: *.* exclude with unicode

    ✓ Files: *.* include with unicode

    ✓ Files: multiroot with exclude

    ✓ Files: Unicode and Spaces

    ✓ Files: no results

    ✓ Files: relative path matched once

    ✓ Files: Include pattern, single files

    ✓ Files: extraFiles only

    ✓ Files: extraFiles only (with include)

    ✓ Files: extraFiles only (with exclude)

    ✓ Files: no dupes in nested folders

  FileWalker

    ✓ Find: exclude subfolder

    ✓ Find: folder excludes

    ✓ Find: exclude multiple folders

    ✓ Find: exclude folder path suffix

    ✓ Find: exclude subfolder path suffix

    ✓ Find: exclude folder path

    ✓ Find: exclude combination of paths

  Workbench editor input

    ✓ EditorInput

    ✓ DiffEditorInput

    ✓ DiffEditorInput disposes when input inside disposes

  ExtHostCommands

    ✓ dispose calls unregister

    ✓ dispose bubbles only once

  ExtHostDiagnostics

    ✓ disposeCheck

    ✓ diagnostic collection, forEach, clear, has

    ✓ diagnostic collection, immutable read

    ✓ diagnostics collection, set with dupliclated tuples

    ✓ diagnostics collection, set tuple overrides, #11547

    ✓ don't send message when not making a change

    ✓ diagnostics collection, tuples and undefined (small array), #15585

    ✓ diagnostics collection, tuples and undefined (large array), #15585

    ✓ diagnostic capping

    ✓ diagnostic eventing

    ✓ vscode.languages.onDidChangeDiagnostics Does Not Provide Document URI #49582

    ✓ diagnostics with related information

    ✓ vscode.languages.getDiagnostics appears to return old diagnostics in some circumstances #54359

  ExtHostFileSystemEventService

    ✓ FileSystemWatcher ignore events properties are reversed #26851

  ExtHostWebview

    ✓ Cannot register multiple serializers for the same view type

  ExtHostTextEditor

    ✓ disposed editor

    ✓ API [bug]: registerTextEditorCommand clears redo stack even if no edits are made #55163

  ExtHostTextEditorOptions

    ✓ can set tabSize to the same value

    ✓ can change tabSize to positive integer

    ✓ can change tabSize to positive float

    ✓ can change tabSize to a string number

    ✓ tabSize can request indentation detection

    ✓ ignores invalid tabSize 1

    ✓ ignores invalid tabSize 2

    ✓ ignores invalid tabSize 3

    ✓ ignores invalid tabSize 4

    ✓ can set insertSpaces to the same value

    ✓ can set insertSpaces to boolean

    ✓ can set insertSpaces to false string

    ✓ can set insertSpaces to truey

    ✓ insertSpaces can request indentation detection

    ✓ can set cursorStyle to same value

    ✓ can change cursorStyle

    ✓ can set lineNumbers to same value

    ✓ can change lineNumbers

    ✓ can do bulk updates 0

    ✓ can do bulk updates 1

    ✓ can do bulk updates 2

    ✓ can do bulk updates 3

  ExtHostDocumentsAndEditors

    ✓ The value of TextDocument.isClosed is incorrect when a text document is closed, #27949

  ExtHostDocumentSaveParticipant

    ✓ no listeners, no problem

    ✓ event delivery

    ✓ event delivery, immutable

    ✓ event delivery, bad listener

    ✓ event delivery, bad listener doesn't prevent more events

    ✓ event delivery, in subscriber order

    ✓ event delivery, ignore bad listeners

    ✓ event delivery, overall timeout

    ✓ event delivery, waitUntil

    ✓ event delivery, waitUntil must be called sync

    ✓ event delivery, waitUntil will timeout

    ✓ event delivery, waitUntil failure handling

    ✓ event delivery, pushEdits sync

    ✓ event delivery, concurrent change

    ✓ event delivery, two listeners -> two document states

    ✓ Log failing listener

  ExtHostTextEditors.applyWorkspaceEdit

    ✓ uses version id if document available

    ✓ does not use version id if document is not available

  ExtHostTreeView

    ✓ construct node tree

    ✓ construct id tree

    ✓ error is thrown if id is not unique (203ms)

    ✓ refresh root (201ms)

    ✓ refresh a parent node (206ms)

    ✓ refresh a leaf node (205ms)

    ✓ refresh parent and child node trigger refresh only on parent - scenario 1 (206ms)

    ✓ refresh parent and child node trigger refresh only on parent - scenario 2 (202ms)

    ✓ refresh an element for label change (201ms)

    ✓ refresh calls are throttled on roots (201ms)

    ✓ refresh calls are throttled on elements (207ms)

    ✓ refresh calls are throttled on unknown elements (202ms)

    ✓ refresh calls are throttled on unknown elements and root (200ms)

    ✓ refresh calls are throttled on elements and root (202ms)

    ✓ generate unique handles from labels by escaping them (201ms)

    ✓ tree with duplicate labels (205ms)

    ✓ getChildren is not returned from cache if refreshed (201ms)

    ✓ getChildren is returned from cache if not refreshed

    ✓ reveal will throw an error if getParent is not implemented

    ✓ reveal will return empty array for root element

    ✓ reveal will return parents array for an element when hierarchy is not loaded

    ✓ reveal will return parents array for an element when hierarchy is loaded

    ✓ reveal will return parents array for deeper element with no selection

    ✓ reveal after first udpate (204ms)

    ✓ reveal after second udpate (210ms)

  MainThreadCommands

    ✓ dispose on unregister

    ✓ unregister all on dispose

  ExtHostMessageService

    ✓ propagte handle on select
    modal

      ✓ calls dialog service

      ✓ returns undefined when cancelled

      ✓ hides Cancel button when not needed

  MainThreadDiagnostics

    ✓ clear markers on dispose

  MainThreadConfiguration

    ✓ update resource configuration without configuration target defaults to workspace in multi root workspace when no resource is provided

    ✓ update resource configuration without configuration target defaults to workspace in folder workspace when resource is provider

    ✓ update resource configuration without configuration target defaults to workspace in folder workspace when no resource is provider

    ✓ update window configuration without configuration target defaults to workspace in multi root workspace when no resource is provided

    ✓ update window configuration without configuration target defaults to workspace in multi root workspace when resource is provided

    ✓ update window configuration without configuration target defaults to workspace in folder workspace when resource is provider

    ✓ update window configuration without configuration target defaults to workspace in folder workspace when no resource is provider

    ✓ update resource configuration without configuration target defaults to folder

    ✓ update configuration with user configuration target

    ✓ update configuration with workspace configuration target

    ✓ update configuration with folder configuration target

    ✓ remove resource configuration without configuration target defaults to workspace in multi root workspace when no resource is provided

    ✓ remove resource configuration without configuration target defaults to workspace in folder workspace when resource is provider

    ✓ remove resource configuration without configuration target defaults to workspace in folder workspace when no resource is provider

    ✓ remove window configuration without configuration target defaults to workspace in multi root workspace when no resource is provided

    ✓ remove window configuration without configuration target defaults to workspace in multi root workspace when resource is provided

    ✓ remove window configuration without configuration target defaults to workspace in folder workspace when resource is provider

    ✓ remove window configuration without configuration target defaults to workspace in folder workspace when no resource is provider

    ✓ remove configuration without configuration target defaults to folder

  ExtHostSearch
    File:

      ✓ no results

      ✓ simple results

      ✓ Search canceled

      ✓ provider returns null

      ✓ all provider calls get global include/excludes

      ✓ global/local include/excludes combined

      ✓ include/excludes resolved correctly

      ✓ basic sibling exclude clause

      ✓ multiroot sibling exclude clause
      - max results = 1
      - max results = 2
      - provider returns maxResults exactly

      ✓ multiroot max results

      ✓ works with non-file schemes
    Text:

      ✓ no results

      ✓ basic results

      ✓ all provider calls get global include/excludes

      ✓ global/local include/excludes combined

      ✓ include/excludes resolved correctly

      ✓ provider fail

      ✓ basic sibling clause

      ✓ multiroot sibling clause

      ✓ include pattern applied

      ✓ max results = 1

      ✓ max results = 2

      ✓ provider returns maxResults exactly

      ✓ provider returns early with limitHit

      ✓ multiroot max results

      ✓ works with non-file schemes

  dom

    ✓ hasClass

    ✓ removeClass

    ✓ removeClass should consider hyphens
    $

      ✓ should build simple nodes

      ✓ should build nodes with attributes

      ✓ should build nodes with children

  TreeModel

    ✓ setInput, getInput

    ✓ refresh() refreshes all

    ✓ refresh(root) refreshes all

    ✓ refresh(root, false) refreshes the root

    ✓ refresh(collapsed element) does not refresh descendants

    ✓ refresh(expanded element) refreshes the element and descendants

    ✓ refresh(element, false) refreshes the element

    ✓ depths

    ✓ intersections

  TreeModel - TreeNavigator

    ✓ next()

    ✓ previous()

    ✓ parent()

    ✓ next() - scoped

    ✓ previous() - scoped

    ✓ parent() - scoped

    ✓ next() - non sub tree only

    ✓ previous() - non sub tree only

    ✓ parent() - non sub tree only

    ✓ deep next() - scoped

    ✓ deep previous() - scoped

    ✓ last()

  TreeModel - Expansion

    ✓ collapse, expand

    ✓ toggleExpansion

    ✓ collapseAll

    ✓ auto expand single child folders

    ✓ expand can trigger refresh

    ✓ top level collapsed

    ✓ shouldAutoexpand

  TreeModel - Filter

    ✓ no filter

    ✓ filter all

    ✓ simple filter

    ✓ simple filter 2

    ✓ simple filter, opposite

    ✓ simple filter, mischieving

    ✓ simple filter & previous

  TreeModel - Traits

    ✓ Selection

    ✓ Focus

    ✓ Highlight

  TreeModel - Dynamic data model

    ✓ items get property disposed

    ✓ addChild, removeChild, collapse

    ✓ move

    ✓ refreshing grandfather recursively should not refresh collapsed father's children immediately

    ✓ simultaneously refreshing two disjoint elements should parallelize the refreshes

    ✓ simultaneously recursively refreshing two intersecting elements should concatenate the refreshes - ancestor first

    ✓ simultaneously recursively refreshing two intersecting elements should concatenate the refreshes - ancestor second

    ✓ refreshing an empty element that adds children should still keep it collapsed

    ✓ refreshing a collapsed element that adds children should still keep it collapsed

    ✓ recursively refreshing an ancestor of an expanded element, should keep that element expanded

    ✓ recursively refreshing an ancestor of a collapsed element, should keep that element collapsed

    ✓ Bug 10855:[explorer] quickly deleting things causes NPE in tree - intersectsLock should always be called when trying to unlock

  TreeModel - bugs

    ✓ Bug 10566:[tree] build viewlet is broken after some time

    ✓ collapsed resolved parent should also update all children visibility on refresh

  HtmlContent

    ✓ render simple element

    ✓ render element with class

    ✓ simple formatting

    ✓ no formatting

    ✓ preserve newlines

    ✓ action

    ✓ fancy action

    ✓ escaped formatting

    ✓ image rendering conforms to default

    ✓ image rendering conforms to default without title

    ✓ image width from title params

    ✓ image height from title params

    ✓ image width and height from title params

  ProgressBar

    ✓ Progress Bar

  HighlightedLabel

    ✓ empty label

    ✓ no decorations

    ✓ escape html

    ✓ everything highlighted

    ✓ beginning highlighted

    ✓ ending highlighted

    ✓ middle highlighted

    ✓ escapeNewLines

  Contextview

    ✓ layout

  StandaloneKeybindingService

    ✓ issue Microsoft/monaco-editor#167

  Decoration Render Options

    ✓ register and resolve decoration type

    ✓ remove decoration type

    ✓ css properties

    ✓ theme color

    ✓ theme overrides

    ✓ css properties, gutterIconPaths

  OpenerService

    ✓ delegate to editorService, scheme:///fff

    ✓ delegate to editorService, scheme:///fff#L123

    ✓ delegate to editorService, scheme:///fff#123,123

    ✓ delegate to commandsService, command:someid

  DecorationsService

    ✓ Async provider, async/evented result (113ms)

    ✓ Sync provider, sync result

    ✓ Clear decorations on provider dispose

    ✓ No default bubbling

    ✓ Overwrite data

    ✓ Decorations not showing up for second root folder #48502

    ✓ Decorations not bubbling... #48745

  Workbench parts

    ✓ Creation

    ✓ Part Layout with Title and Content

    ✓ Part Layout with Content only

  RenderedLinesCollection onLinesDeleted

    ✓ A1

    ✓ A2

    ✓ A3

    ✓ A4

    ✓ A5

    ✓ A6

    ✓ A7

    ✓ A8

    ✓ B1

    ✓ B2

    ✓ B3

    ✓ B4

    ✓ B5

    ✓ B6

    ✓ C1

    ✓ C2

    ✓ C3

    ✓ C4

    ✓ C5

    ✓ D1

    ✓ D2

    ✓ D3

    ✓ D4

    ✓ E1

    ✓ E2

    ✓ E3

    ✓ F1

    ✓ F2

    ✓ G1

    ✓ G2

    ✓ H1

  RenderedLinesCollection onLineChanged

    ✓ 3

    ✓ 4

    ✓ 5

    ✓ 6

    ✓ 7

    ✓ 8

    ✓ 9

    ✓ 10

    ✓ 11

  RenderedLinesCollection onLinesInserted

    ✓ A1

    ✓ A2

    ✓ A3

    ✓ A4

    ✓ A5

    ✓ A6

    ✓ A7

    ✓ A8

    ✓ B1

    ✓ B2

    ✓ B3

    ✓ B4

    ✓ B5

    ✓ B6

    ✓ C1

    ✓ C2

    ✓ C3

    ✓ C4

    ✓ C5

    ✓ D1

    ✓ D2

    ✓ D3

    ✓ D4

    ✓ E1

    ✓ E2

    ✓ E3

    ✓ F1

    ✓ F2

    ✓ G1

    ✓ G2

    ✓ H1

  RenderedLinesCollection onTokensChanged

    ✓ A

    ✓ B

    ✓ C

    ✓ D

    ✓ E

    ✓ F

    ✓ G

    ✓ H

    ✓ I

  Debug - Model

    ✓ breakpoints simple

    ✓ breakpoints toggling

    ✓ breakpoints two files

    ✓ breakpoints conditions

    ✓ function brekapoints

    ✓ threads simple

    ✓ threads multiple wtih allThreadsStopped

    ✓ threads mutltiple without allThreadsStopped

    ✓ watch expressions

    ✓ repl expressions

    ✓ stack frame get specific source name

    ✓ repl output

  Viewlets

    ✓ ViewletDescriptor API

    ✓ Editor Aware ViewletDescriptor API

    ✓ Viewlet extension point and registration

  Splitview

    ✓ empty splitview has empty DOM

    ✓ has views and sashes as children

    ✓ calls view methods on addView and removeView

    ✓ stretches view to viewport

    ✓ can resize views

    ✓ reacts to view changes

    ✓ sashes are properly enabled/disabled

    ✓ issue #35497

    ✓ automatic size distribution

    ✓ add views before layout

    ✓ split sizing

    ✓ split sizing 2

  Gridview

    ✓ empty gridview is empty

    ✓ gridview addView

    ✓ gridview addView nested

    ✓ gridview addView deep nested

    ✓ simple layout

    ✓ simple layout with automatic size distribution

    ✓ addviews before layout call 1

    ✓ addviews before layout call 2

  Grid

    ✓ getRelativeLocation

    ✓ empty

    ✓ two views vertically

    ✓ two views horizontally

    ✓ simple layout

    ✓ another simple layout with automatic size distribution

    ✓ another simple layout with split size distribution

    ✓ 3/2 layout with split

    ✓ sizing should be correct after branch demotion #50564

    ✓ sizing should be correct after branch demotion #50675

    ✓ getNeighborViews should work on single view layout

    ✓ getNeighborViews should work on simple layout

    ✓ getNeighborViews should work on a complex layout

    ✓ getNeighborViews should work on another simple layout

    ✓ getNeighborViews should only return immediate neighbors

  SerializableGrid

    ✓ serialize empty

    ✓ serialize simple layout

    ✓ deserialize empty

    ✓ deserialize simple layout

    ✓ deserialize simple layout with scaling

    ✓ deserialize 4 view layout (ben issue #2)

    ✓ deserialize 2 view layout (ben issue #3)

    ✓ deserialize simple view layout #50609

    ✓ sanitizeGridNodeDescriptor

    ✓ createSerializedGrid

  Cursor move command test

    ✓ move left should move to left character

    ✓ move left should move to left by n characters

    ✓ move left should move to left by half line

    ✓ move left moves to previous line

    ✓ move right should move to right character

    ✓ move right should move to right by n characters

    ✓ move right should move to right by half line

    ✓ move right moves to next line

    ✓ move to first character of line from middle

    ✓ move to first character of line from first non white space character

    ✓ move to first character of line from first character

    ✓ move to first non white space character of line from middle

    ✓ move to first non white space character of line from first non white space character

    ✓ move to first non white space character of line from first character

    ✓ move to end of line from middle

    ✓ move to end of line from last non white space character

    ✓ move to end of line from line end

    ✓ move to last non white space character from middle

    ✓ move to last non white space character from last non white space character

    ✓ move to last non white space character from line end

    ✓ move to center of line not from center

    ✓ move to center of line from center

    ✓ move to center of line from start

    ✓ move to center of line from end

    ✓ move up by cursor move command

    ✓ move up by model line cursor move command

    ✓ move down by model line cursor move command

    ✓ move up with selection by cursor move command

    ✓ move up and down with tabs by cursor move command

    ✓ move up and down with end of lines starting from a long one by cursor move command

    ✓ move to view top line moves to first visible line if it is first line

    ✓ move to view top line moves to top visible line when first line is not visible

    ✓ move to view top line moves to nth line from top

    ✓ move to view top line moves to last line if n is greater than last visible line number

    ✓ move to view center line moves to the center line

    ✓ move to view bottom line moves to last visible line if it is last line

    ✓ move to view bottom line moves to last visible line when last line is not visible

    ✓ move to view bottom line moves to nth line from bottom

    ✓ move to view bottom line moves to first line if n is lesser than first visible line number

  Stat Resolver

    ✓ resolve file

    ✓ resolve directory

    ✓ resolve directory - resolveTo single directory

    ✓ resolve directory - resolveTo single directory - mixed casing

    ✓ resolve directory - resolveTo multiple directories

    ✓ resolve directory - resolveSingleChildFolders

  SearchService

    ✓ Individual results

    ✓ Batch results

    ✓ Collect batched results

    ✓ Multi-root with include pattern and maxResults

    ✓ Multi-root with include pattern and exists

    ✓ Sorted results

    ✓ Sorted result batches

    ✓ Cached results

  MouseWheelClassifier

    ✓ OSX - Apple Magic Mouse

    ✓ OSX - Apple Touch Pad

    ✓ OSX - Razer Physical Mouse Wheel

    ✓ Windows - Microsoft Arc Touch

    ✓ Windows - SurfaceBook TouchPad

    ✓ Windows - Razer physical wheel

    ✓ Windows - Logitech physical wheel

    ✓ Windows - Microsoft basic v2 physical wheel

  ListView

    ✓ all rows get disposed

  Search Actions

    ✓ get next element to focus after removing a match when it has next sibling file

    ✓ get next element to focus after removing a match when it does not have next sibling match

    ✓ get next element to focus after removing a match when it does not have next sibling match and previous match is file match

    ✓ get next element to focus after removing a match when it is the only match

    ✓ get next element to focus after removing a file match when it has next sibling

    ✓ get next element to focus after removing a file match when it has no next sibling

    ✓ get next element to focus after removing a file match when it is only match

  QuickOpen

    ✓ QuickOpenModel

    ✓ QuickOpenDataSource

  CacheState

    ✓ reuse old cacheKey until new cache is loaded

    ✓ do not spawn additional load if previous is still loading

    ✓ do not use previous cacheKey if query changed

    ✓ dispose propagates

    ✓ keep using old cacheKey when loading fails

  Workbench action registry

    ✓ Workbench Action Bar prepareActions()

  Debug - Base Debug View

    ✓ replace whitespace

    ✓ render expression value

    ✓ render variable

  KeybindingsEditorContribution

    ✓ _userSettingsFuzzyEquals

  ExtHost API

    ✓ issue #51387: originalFSPath

  ExtHostLanguageFeatureCommands

    ✓ WorkspaceSymbols, invalid arguments

    ✓ WorkspaceSymbols, back and forth

    ✓ executeWorkspaceSymbolProvider should accept empty string, #39522

    ✓ Definition, invalid arguments

    ✓ Definition, back and forth

    ✓ Type Definition, invalid arguments

    ✓ Type Definition, back and forth

    ✓ reference search, back and forth

    ✓ Outline, back and forth

    ✓ vscode.executeDocumentSymbolProvider command only returns SymbolInformation[] rather than DocumentSymbol[] #57984

    ✓ Suggest, back and forth

    ✓ Suggest, return CompletionList !array

    ✓ Suggest, resolve completion items

    ✓ "vscode.executeCompletionItemProvider" doesnot return a preselect field #53749

    ✓ executeCompletionItemProvider doesn't capture commitCharacters #58228

    ✓ QuickFix, back and forth

    ✓ vscode.executeCodeActionProvider results seem to be missing their `command` property #45124

    ✓ CodeLens, back and forth

    ✓ CodeLens, resolve

    ✓ Links, back and forth

    ✓ Color provider

    ✓ "TypeError: e.onCancellationRequested is not a function" calling hover provider in Insiders #54174

  TokenizationSupport2Adapter

    ✓ tokens always start at index 0 (no offset delta)

    ✓ tokens always start after each other (no offset delta)

    ✓ tokens always start at index 0 (with offset delta)

    ✓ tokens always start after each other (with offset delta)

  CodeAction

    ✓ Orcale -> marker added (263ms)

    ✓ Orcale -> position changed (257ms)

    ✓ Lightbulb is in the wrong place, #29933

    ✓ Orcale -> should only auto trigger once for cursor and marker update right after each other (62ms)

  bracket matching

    ✓ issue #183: jump to matching bracket position

    ✓ Jump to next bracket

    ✓ Select to next bracket

    ✓ issue #45369: Select to Bracket with multicursor

  Find

    ✓ search string at position

    ✓ search string with selection

    ✓ search string with multiline selection

  FindController

    ✓ issue #1857: F3, Find Next, acts like "Find Under Cursor"

    ✓ issue #3090: F3 does not loop with two matches on a single line

    ✓ issue #6149: Auto-escape highlighted text for search and replace regex mode

    ✓ issue #41027: Don't replace find input value on replace action if find input is active

    ✓ issue #9043: Clear search scope when find widget is hidden

    ✓ issue #18111: Regex replace with single space replaces with no space

    ✓ issue #24714: Regular expression with ^ in search & replace

    ✓ issue #38232: Find Next Selection, regex enabled

    ✓ issue #38232: Find Next Selection, regex enabled, find widget open

  FindController query options persistence

    ✓ matchCase

    ✓ wholeWord

    ✓ toggling options is saved

    ✓ issue #27083: Update search scope once find widget becomes visible

    ✓ issue #58604: Do not update searchScope if it is empty

    ✓ issue #58604: Update searchScope if it is not empty

  FindModel

    ✓ incremental find from beginning of file

    ✓ find model removes its decorations

    ✓ find model updates state matchesCount

    ✓ find model reacts to position change

    ✓ find model next

    ✓ find model next stays in scope

    ✓ find model prev

    ✓ find model prev stays in scope

    ✓ find model next/prev with no matches

    ✓ find model next/prev respects cursor position

    ✓ find ^

    ✓ find $

    ✓ find next ^$

    ✓ find .*

    ✓ find next ^.*$

    ✓ find prev ^.*$

    ✓ find prev ^$

    ✓ replace hello

    ✓ replace bla

    ✓ replaceAll hello

    ✓ replaceAll two spaces with one space

    ✓ replaceAll bla

    ✓ replaceAll bla with \t\n

    ✓ issue #3516: "replace all" moves page/cursor/focus/scroll to the place of the last replacement

    ✓ listens to model content changes

    ✓ selectAllMatches

    ✓ issue #14143 selectAllMatches should maintain primary cursor if feasible

    ✓ issue #1914: NPE when there is only one find match

    ✓ replace when search string has look ahed regex

    ✓ replace when search string has look ahed regex and cursor is at the last find match

    ✓ replaceAll when search string has look ahed regex

    ✓ replace when search string has look ahed regex and replace string has capturing groups

    ✓ replaceAll when search string has look ahed regex and replace string has capturing groups

    ✓ replaceAll when search string is multiline and has look ahed regex and replace string has capturing groups

    ✓ issue #18711 replaceAll with empty string

    ✓ issue #32522 replaceAll with ^ on more than 1000 matches (143ms)

    ✓ issue #19740 Find and replace capture group/backreference inserts `undefined` instead of empty string

    ✓ issue #27083. search scope works even if it is a single line

  Editor Contrib - Line Operations

    ✓ transpose

    ✓ toggle case

    ✓ InsertLineBeforeAction

    ✓ InsertLineAfterAction

    ✓ Bug 18276:[editor] Indentation broken when selection is empty
    SortLinesAscendingAction

      ✓ should sort selected lines in ascending order

      ✓ should sort multiple selections in ascending order
    SortLinesDescendingAction

      ✓ should sort selected lines in descending order

      ✓ should sort multiple selections in descending order
    DeleteAllLeftAction

      ✓ should delete to the left of the cursor

      ✓ should jump to the previous line when on first column

      ✓ should keep deleting lines in multi cursor mode

      ✓ should work in multi cursor mode

      ✓ issue #36234: should push undo stop
    JoinLinesAction

      ✓ should join lines and insert space if necessary

      ✓ #50471 Join lines at the end of document

      ✓ should work in multi cursor mode

      ✓ should push undo stop
    DeleteAllRightAction

      ✓ should be noop on empty

      ✓ should delete selected range

      ✓ should delete to the right of the cursor

      ✓ should join two lines, if at the end of the line

      ✓ should work with multiple cursors

      ✓ should work with undo/redo

  Multicursor

    ✓ issue #2205: Multi-cursor pastes in reverse order

    ✓ issue #1336: Insert cursor below on last line adds a cursor to the end of the current line

  Multicursor selection

    ✓ issue #8817: Cursor position changes when you cancel multicursor

    ✓ issue #5400: "Select All Occurrences of Find Match" does not select all if find uses regex

    ✓ AddSelectionToNextFindMatchAction can work with multiline

    ✓ issue #6661: AddSelectionToNextFindMatchAction can work with touching ranges

    ✓ issue #23541: Multiline Ctrl+D does not work in CRLF files

    ✓ AddSelectionToNextFindMatchAction starting with single collapsed selection

    ✓ AddSelectionToNextFindMatchAction starting with two selections, one being collapsed 1)

    ✓ AddSelectionToNextFindMatchAction starting with two selections, one being collapsed 2)

    ✓ AddSelectionToNextFindMatchAction starting with all collapsed selections

    ✓ AddSelectionToNextFindMatchAction starting with all collapsed selections on different words

    ✓ issue #20651: AddSelectionToNextFindMatchAction case insensitive
    Find state disassociation

      ✓ enters mode

      ✓ leaves mode when selection changes

      ✓ Select Highlights respects mode 

  ParameterHintsModel

    ✓ Provider should get trigger character on type (128ms)

    ✓ Provider should be retriggered if already active (254ms)

    ✓ Provider should not be retriggered if previous help is canceled first (252ms)

    ✓ Provider should get last trigger character when triggered multiple times and only be invoked once (63ms)

    ✓ Provider should be retriggered if already active (65ms)

    ✓ Should cancel existing request when new request comes in (114ms)

  SnippetController

    ✓ Simple accepted

    ✓ Simple canceled

    ✓ Stops when calling model.setValue()

    ✓ Stops when undoing

    ✓ Stops when moving cursor outside

    ✓ Stops when disconnecting editor model

    ✓ Stops when disposing editor

    ✓ Final tabstop with multiple selections

    ✓ Final tabstop, #11742 simple

    ✓ Final tabstop, #11742 different indents

    ✓ Final tabstop, #11890 stay at the beginning

    ✓ Final tabstop, no tabstop

    ✓ Multiple cursor and overwriteBefore/After, issue #11060

    ✓ Multiple cursor and overwriteBefore/After, #16277

    ✓ Insert snippet twice, #19449

  SnippetController2

    ✓ creation

    ✓ insert, insert -> abort

    ✓ insert, insert -> tab, tab, done

    ✓ insert, insert -> cursor moves out (left/right)

    ✓ insert, insert -> cursor moves out (up/down)

    ✓ insert, insert -> cursors collapse

    ✓ insert, insert plain text -> no snippet mode

    ✓ insert, delete snippet text

    ✓ insert, nested snippet

    ✓ insert, nested plain text

    ✓ Nested snippets without final placeholder jumps to next outer placeholder, #27898

    ✓ Inconsistent tab stop behaviour with recursive snippets and tab / shift tab, #27543

    ✓ Snippet tabstop selecting content of previously entered variable only works when separated by space, #23728

    ✓ HTML Snippets Combine, #32211

    ✓ Problems with nested snippet insertion #39594

    ✓ Problems with nested snippet insertion #39594

    ✓ “Nested” snippets terminating abruptly in VSCode 1.19.2. #42012

    ✓ Placeholders order #58267

    ✓ Must tab through deleted tab stops in snippets #31619

  SnippetSession

    ✓ normalize whitespace

    ✓ adjust selection (overwrite[Before|After])

    ✓ text edits & selection

    ✓ text edit with reversed selection

    ✓ snippets, repeated tabstops

    ✓ snippets, just text

    ✓ snippets, selections and new text with newlines

    ✓ snippets, newline NO whitespace adjust

    ✓ snippets, selections -> next/prev

    ✓ snippets, selections & typing

    ✓ snippets, insert shorter snippet into non-empty selection

    ✓ snippets, insert longer snippet into non-empty selection

    ✓ snippets, don't grow final tabstop

    ✓ snippets, don't merge touching tabstops 1/2

    ✓ snippets, don't merge touching tabstops 2/2

    ✓ snippets, gracefully move over final tabstop

    ✓ snippets, overwriting nested placeholder

    ✓ snippets, selections and snippet ranges

    ✓ snippets, nested sessions

    ✓ snippets, typing at final tabstop

    ✓ snippets, typing at beginning

    ✓ snippets, typing with nested placeholder

    ✓ snippets, snippet with variables

    ✓ snippets, merge

    ✓ snippets, transform

    ✓ snippets, multi placeholder same index one transform

    ✓ snippets, transform example

    ✓ snippets, transform with indent

    ✓ snippets, transform example hit if

    ✓ Snippet placeholder index incorrect after using 2+ snippets in a row that each end with a placeholder, #30769

    ✓ Snippet variable text isn't whitespace normalised, #31124

    ✓ Selecting text from left to right, and choosing item messes up code, #31199

  SuggestModel - Context

    ✓ Context - shouldAutoTrigger

    ✓ shouldAutoTrigger at embedded language boundaries

  SuggestModel - TriggerAndCancelOracle

    ✓ events - cancel/trigger

    ✓ events - suggest/empty

    ✓ trigger - on type

    ✓ #17400: Keep filtering suggestModel.ts after space (59ms)

    ✓ #21484: Trigger character always force a new completion session

    ✓ Intellisense Completion doesn't respect space after equal sign (.html file), #29353 [1/2]

    ✓ Intellisense Completion doesn't respect space after equal sign (.html file), #29353 [2/2]

    ✓ Incomplete suggestion results cause re-triggering when typing w/o further context, #28400 (1/2)

    ✓ Incomplete suggestion results cause re-triggering when typing w/o further context, #28400 (2/2)

    ✓ Trigger character is provided in suggest context

    ✓ Mac press and hold accent character insertion does not update suggestions, #35269 (46ms)

    ✓ Backspace should not always cancel code completion, #36491 (46ms)

    ✓ Text changes for completion CodeAction are affected by the completion #39893

    ✓ Completion unexpectedly triggers on second keypress of an edit group in a snippet #43523

    ✓ Fails to render completion details #47988 (46ms)

  Editor Side Editing - collapsed selection

    ✓ replace at selection

    ✓ replace at selection 2

    ✓ insert at selection

    ✓ insert at selection sitting on max column

    ✓ issue #3994: replace on top of selection

    ✓ issue #15267: Suggestion that adds a line - cursor goes to the wrong line 

    ✓ issue #15236: Selections broke after deleting text using vscode.TextEditor.edit 

  SideEditing
    insert
      collapsed sel

        ✓ before

        ✓ equal

        ✓ after
      non-collapsed dec

        ✓ before

        ✓ start

        ✓ inside

        ✓ end

        ✓ after
    delete
      collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start >= range.end

        ✓ edit.start > range.end
      non-collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end < range.end

        ✓ edit.start < range.start && edit.end == range.end

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start == range.start && edit.end < range.end

        ✓ edit.start == range.start && edit.end == range.end

        ✓ edit.start == range.start && edit.end > range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end

        ✓ edit.start == range.end

        ✓ edit.start > range.end
    replace short
      collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start >= range.end

        ✓ edit.start > range.end
      non-collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end < range.end

        ✓ edit.start < range.start && edit.end == range.end

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start == range.start && edit.end < range.end

        ✓ edit.start == range.start && edit.end == range.end

        ✓ edit.start == range.start && edit.end > range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end

        ✓ edit.start == range.end

        ✓ edit.start > range.end
    replace long
      collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start >= range.end

        ✓ edit.start > range.end
      non-collapsed dec

        ✓ edit.end < range.start

        ✓ edit.end <= range.start

        ✓ edit.start < range.start && edit.end < range.end

        ✓ edit.start < range.start && edit.end == range.end

        ✓ edit.start < range.start && edit.end > range.end

        ✓ edit.start == range.start && edit.end < range.end

        ✓ edit.start == range.start && edit.end == range.end

        ✓ edit.start == range.start && edit.end > range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end < range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end == range.end

        ✓ edit.start > range.start && edit.start < range.end && edit.end > range.end

        ✓ edit.start == range.end

        ✓ edit.start > range.end

  Editor Controller - Cursor

    ✓ cursor initialized

    ✓ no move

    ✓ move

    ✓ move in selection mode

    ✓ move beyond line end

    ✓ move empty line

    ✓ move one char line

    ✓ selection down

    ✓ move and then select

    ✓ move left on top left position

    ✓ move left

    ✓ move left with surrogate pair

    ✓ move left goes to previous row

    ✓ move left selection

    ✓ move right on bottom right position

    ✓ move right

    ✓ move right with surrogate pair

    ✓ move right goes to next row

    ✓ move right selection

    ✓ move down

    ✓ move down with selection

    ✓ move down with tabs

    ✓ move up

    ✓ move up with selection

    ✓ move up and down with tabs

    ✓ move up and down with end of lines starting from a long one

    ✓ move to beginning of line

    ✓ move to beginning of line from within line

    ✓ move to beginning of line from whitespace at beginning of line

    ✓ move to beginning of line from within line selection

    ✓ move to beginning of line with selection multiline forward

    ✓ move to beginning of line with selection multiline backward

    ✓ move to beginning of line with selection single line forward

    ✓ move to beginning of line with selection single line backward

    ✓ issue #15401: "End" key is behaving weird when text is selected part 1

    ✓ issue #17011: Shift+home/end now go to the end of the selection start's line, not the selection's end

    ✓ move to end of line

    ✓ move to end of line from within line

    ✓ move to end of line from whitespace at end of line

    ✓ move to end of line from within line selection

    ✓ move to end of line with selection multiline forward

    ✓ move to end of line with selection multiline backward

    ✓ move to end of line with selection single line forward

    ✓ move to end of line with selection single line backward

    ✓ issue #15401: "End" key is behaving weird when text is selected part 2

    ✓ move to beginning of buffer

    ✓ move to beginning of buffer from within first line

    ✓ move to beginning of buffer from within another line

    ✓ move to beginning of buffer from within first line selection

    ✓ move to beginning of buffer from within another line selection

    ✓ move to end of buffer

    ✓ move to end of buffer from within last line

    ✓ move to end of buffer from within another line

    ✓ move to end of buffer from within last line selection

    ✓ move to end of buffer from within another line selection

    ✓ select all

    ✓ expandLineSelection

    ✓ no move doesn't trigger event

    ✓ move eventing

    ✓ move in selection mode eventing

    ✓ saveState & restoreState

    ✓ Independent model edit 1

    ✓ column select 1

    ✓ issue #4905 - column select is biased to the right

    ✓ issue #20087: column select with mouse

    ✓ issue #20087: column select with keyboard

    ✓ column select with keyboard

  Editor Controller - Regression tests

    ✓ issue Microsoft/monaco-editor#443: Indentation of a single row deletes selected text in some cases

    ✓ Bug 9121: Auto indent + undo + redo is funky

    ✓ issue #23539: Setting model EOL isn't undoable

    ✓ issue #47733: Undo mangles unicode characters

    ✓ issue #46208: Allow empty selections in the undo/redo stack

    ✓ bug #16815:Shift+Tab doesn't go back to tabstop

    ✓ Bug #18293:[regression][editor] Can't outdent whitespace line

    ✓ Bug #16657: [editor] Tab on empty line of zero indentation moves cursor to position (1,1)

    ✓ bug #16740: [editor] Cut line doesn't quite cut the last line

    ✓ Bug #11476: Double bracket surrounding + undo is broken

    ✓ issue #1140: Backspace stops prematurely

    ✓ issue #10212: Pasting entire line does not replace selection

    ✓ issue #4996: Multiple cursor paste pastes contents of all cursors

    ✓ issue #16155: Paste into multiple cursors has edge case when number of lines equals number of cursors - 1

    ✓ issue #46440: (1) Pasting a multi-line selection pastes entire selection into every insertion point

    ✓ issue #46440: (2) Pasting a multi-line selection pastes entire selection into every insertion point

    ✓ issue #3071: Investigate why undo stack gets corrupted

    ✓ issue #12950: Cannot Double Click To Insert Emoji Using OSX Emoji Panel

    ✓ issue #3463: pressing tab adds spaces, but not as many as for a tab

    ✓ issue #4312: trying to type a tab character over a sequence of spaces results in unexpected behaviour

    ✓ issue #832: word right

    ✓ issue #33788: Wrong cursor position when double click to select a word

    ✓ issue #12887: Double-click highlighting separating white space

    ✓ issue #9675: Undo/Redo adds a stop in between CHN Characters

    ✓ issue #23913: Greater than 1000+ multi cursor typing replacement text appears inverted, lines begin to drop off selection (317ms)

    ✓ issue #23983: Calling model.setEOL does not reset cursor position

    ✓ issue #23983: Calling model.setValue() resets cursor position

    ✓ issue #36740: wordwrap creates an extra step / character at the wrapping point

    ✓ issue #41573 - delete across multiple lines does not shrink the selection when word wraps

    ✓ issue #22717: Moving text cursor cause an incorrect position in Chinese

    ✓ issue #44805: Should not be able to undo in readonly editor

    ✓ issue #46314: ViewModel is out of sync with Model!

    ✓ issue #37967: problem replacing consecutive characters

    ✓ issue #15761: Cursor doesn't move in a redo operation

    ✓ issue #42783: API Calls with Undo Leave Cursor in Wrong Position

  Editor Controller - Cursor Configuration

    ✓ Cursor honors insertSpaces configuration on new line

    ✓ Cursor honors insertSpaces configuration on tab

    ✓ Enter auto-indents with insertSpaces setting 1

    ✓ Enter auto-indents with insertSpaces setting 2

    ✓ Enter auto-indents with insertSpaces setting 3

    ✓ removeAutoWhitespace off

    ✓ removeAutoWhitespace on: removes only whitespace the cursor added 1

    ✓ issue #6862: Editor removes auto inserted indentation when formatting on type

    ✓ removeAutoWhitespace on: removes only whitespace the cursor added 2

    ✓ removeAutoWhitespace on: test 1

    ✓ issue #15118: remove auto whitespace when pasting entire line

    ✓ UseTabStops is off

    ✓ Backspace removes whitespaces with tab size

    ✓ PR #5423: Auto indent + undo + redo is funky

  Editor Controller - Indentation Rules

    ✓ Enter honors increaseIndentPattern

    ✓ Type honors decreaseIndentPattern

    ✓ Enter honors unIndentedLinePattern

    ✓ Enter honors indentNextLinePattern

    ✓ Enter honors indentNextLinePattern 2

    ✓ Enter honors intential indent

    ✓ Enter supports selection 1

    ✓ Enter supports selection 2

    ✓ Enter honors tabSize and insertSpaces 1

    ✓ Enter honors tabSize and insertSpaces 2

    ✓ Enter honors tabSize and insertSpaces 3

    ✓ Enter supports intentional indentation

    ✓ Enter should not adjust cursor position when press enter in the middle of a line 1

    ✓ Enter should not adjust cursor position when press enter in the middle of a line 2

    ✓ Enter should not adjust cursor position when press enter in the middle of a line 3

    ✓ Enter should adjust cursor position when press enter in the middle of leading whitespaces 1

    ✓ Enter should adjust cursor position when press enter in the middle of leading whitespaces 2

    ✓ Enter should adjust cursor position when press enter in the middle of leading whitespaces 3

    ✓ Enter should adjust cursor position when press enter in the middle of leading whitespaces 4

    ✓ Enter should adjust cursor position when press enter in the middle of leading whitespaces 5

    ✓ issue Microsoft/monaco-editor#108 part 1/2: Auto indentation on Enter with selection is half broken

    ✓ issue Microsoft/monaco-editor#108 part 2/2: Auto indentation on Enter with selection is half broken

    ✓ onEnter works if there are no indentation rules

    ✓ onEnter works if there are no indentation rules 2

    ✓ bug #16543: Tab should indent to correct indentation spot immediately

    ✓ bug #2938 (1): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)

    ✓ bug #2938 (2): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)

    ✓ bug #2938 (3): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)

    ✓ bug #2938 (4): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)

    ✓ bug #31015: When pressing Tab on lines and Enter rules are avail, indent straight to the right spotTab

    ✓ type honors indentation rules: ruby keywords

    ✓ Auto indent on type: increaseIndentPattern has higher priority than decreaseIndent when inheriting

    ✓ type honors users indentation adjustment

    ✓ bug 29972: if a line is line comment, open bracket should not indent next line

    ✓ issue #36090: JS: editor.autoIndent seems to be broken

    ✓ issue #38261: TAB key results in bizarre indentation in C++ mode 

  ElectricCharacter

    ✓ does nothing if no electric char

    ✓ indents in order to match bracket

    ✓ unindents in order to match bracket

    ✓ matches with correct bracket

    ✓ does nothing if bracket does not match

    ✓ matches bracket even in line with content

    ✓ is no-op if bracket is lined up

    ✓ is no-op if there is non-whitespace text before

    ✓ is no-op if pairs are all matched before

    ✓ is no-op if matching bracket is on the same line

    ✓ is no-op if the line has other content

    ✓ appends text

    ✓ appends text 2

    ✓ issue #23711: Replacing selected text with )]} fails to delete old text with backwards-dragged selection

  autoClosingPairs

    ✓ open parens: default (61ms)

    ✓ open parens: whitespace (58ms)

    ✓ open parens disabled/enabled open quotes enabled/disabled

    ✓ configurable open parens (45ms)

    ✓ auto-pairing can be disabled (55ms)

    ✓ auto wrapping is configurable

    ✓ quote

    ✓ issue #55314: Do not auto-close when ending with open

    ✓ issue #27937: Trying to add an item to the front of a list is cumbersome

    ✓ issue #25658 - Do not auto-close single/double quotes after word characters

    ✓ issue #15825: accents on mac US intl keyboard

    ✓ issue #2773: Accents (´`¨^, others?) are inserted in the wrong position (Mac)

    ✓ issue #26820: auto close quotes when not used as accents

    ✓ issue #20891: All cursors should do the same thing

    ✓ issue #41825: Special handling of quotes in surrounding pairs

    ✓ All cursors should do the same thing when deleting left

    ✓ issue #7100: Mouse word selection is strange when non-word character is at the end of line

  Undo stops

    ✓ there is an undo stop between typing and deleting left

    ✓ there is an undo stop between typing and deleting right

    ✓ there is an undo stop between deleting left and typing

    ✓ there is an undo stop between deleting left and deleting right

    ✓ there is an undo stop between deleting right and typing

    ✓ there is an undo stop between deleting right and deleting left

    ✓ inserts undo stop when typing space

  Emmet

    ✓ Get language mode and parent mode for emmet

  Editor Contrib - Move Caret Command

    ✓ move selection to left

    ✓ move selection to right

    ✓ move selection to left - from first column - no change

    ✓ move selection to right - from last column - no change

  Editor Contrib - Block Comment Command

    ✓ empty selection wraps itself

    ✓ invisible selection ignored

    ✓ bug9511

    ✓ one line selection

    ✓ one line selection toggle

    ✓ multi line selection

    ✓ multi line selection toggle

    ✓ fuzzy removes

    ✓ bug #30358

    ✓ issue #34618

  Editor Contrib - Line Comment Command

    ✓ comment single line

    ✓ case insensitive

    ✓ _analyzeLines

    ✓ _normalizeInsertionPoint

    ✓ detects indentation

    ✓ detects mixed indentation

    ✓ ignores whitespace lines

    ✓ removes its own

    ✓ works in only whitespace

    ✓ bug 9697 - whitespace before comment token

    ✓ bug 10162 - line comment before caret

    ✓ comment single line - leading whitespace

    ✓ ignores invisible selection

    ✓ multiple lines

    ✓ multiple modes on multiple lines

    ✓ toggle single line

    ✓ toggle multiple lines

    ✓ issue #5964: Ctrl+/ to create comment when cursor is at the beginning of the line puts the cursor in a strange position

    ✓ issue #35673: Comment hotkeys throws the cursor before the comment

    ✓ issue #2837 "Add Line Comment" fault when blank lines involved

    ✓ issue #47004: Toggle comments shouldn't move cursor

  Editor Contrib - Line Comment As Block Comment

    ✓ fall back to block comment command

    ✓ fall back to block comment command - toggle

    ✓ bug 9513 - expand single line to uncomment auto block

    ✓ bug 9691 - always expand selection to line boundaries

  Editor Contrib - Line Comment As Block Comment 2

    ✓ no selection => uses indentation

    ✓ can remove

    ✓ issue #993: Remove comment does not work consistently in HTML

  Editor Contrib - Line Comment in mixed modes

    ✓ issue #24047 (part 1): Commenting code in JSX files

    ✓ issue #24047 (part 2): Commenting code in JSX files

    ✓ issue #36173: Commenting code in JSX tag body

  Editor Contrib - Copy Lines Command

    ✓ copy first line down

    ✓ copy first line up

    ✓ copy last line down

    ✓ copy last line up

    ✓ issue #1322: copy line up

    ✓ issue #1322: copy last line up

    ✓ copy many lines up

    ✓ ignore empty selection

  Editor Contrib - Delete Lines Command

    ✓ empty selection in middle of lines

    ✓ empty selection at top of lines

    ✓ empty selection at end of lines

    ✓ with selection in middle of lines

    ✓ with selection at top of lines

    ✓ with selection at end of lines

    ✓ with full line selection in middle of lines

    ✓ with full line selection at top of lines

    ✓ with full line selection at end of lines

  Editor Contrib - Indentation to Spaces

    ✓ single tabs only at start of line

    ✓ multiple tabs at start of line

    ✓ multiple tabs

    ✓ empty lines

  Editor Contrib - Indentation to Tabs

    ✓ spaces only at start of line

    ✓ multiple spaces at start of line

    ✓ multiple spaces

    ✓ issue #45996

  Editor Contrib - Move Lines Command

    ✓ move first up / last down disabled

    ✓ move first line down

    ✓ move 2nd line up

    ✓ issue #1322a: move 2nd line up

    ✓ issue #1322b: move last line up

    ✓ issue #1322c: move last line selected up

    ✓ move last line up

    ✓ move 4th line down

    ✓ move multiple lines down

    ✓ invisible selection is ignored

  Editor contrib - Move Lines Command honors Indentation Rules

    ✓ first line indentation adjust to 0

    ✓ move lines across block

    ✓ move line should still work as before if there is no indentation rules

  Editor Contrib - Sort Lines Command

    ✓ no op unless at least two lines selected 1

    ✓ no op unless at least two lines selected 2

    ✓ sorting two lines ascending

    ✓ sorting first 4 lines ascending

    ✓ sorting all lines ascending

    ✓ sorting first 4 lines descending

    ✓ sorting all lines descending

  Editor Commands - ShiftCommand

    ✓ Bug 9503: Shifting without any selection

    ✓ shift on single line selection 1

    ✓ shift on single line selection 2

    ✓ simple shift

    ✓ shifting on two separate lines

    ✓ shifting on two lines

    ✓ shifting on two lines again

    ✓ shifting at end of file

    ✓ issue #1120 TAB should not indent empty lines in a multi-line selection

    ✓ unshift on single line selection 1

    ✓ unshift on single line selection 2

    ✓ simple unshift

    ✓ unshifting on two lines 1

    ✓ unshifting on two lines 2

    ✓ unshifting at the end of the file

    ✓ unshift many times + shift

    ✓ Bug 9119: Unshift from first column doesn't work

    ✓ issue #348: indenting around doc block comments

    ✓ issue #1609: Wrong indentation of block comments

    ✓ issue #1620: a) Line indent doesn't handle leading whitespace properly

    ✓ issue #1620: b) Line indent doesn't handle leading whitespace properly

    ✓ issue #1620: c) Line indent doesn't handle leading whitespace properly

    ✓ issue #1620: d) Line indent doesn't handle leading whitespace properly

    ✓ issue Microsoft/monaco-editor#443: Indentation of a single row deletes selected text in some cases

    ✓ bug #16815:Shift+Tab doesn't go back to tabstop

  Editor Commands - Trim Trailing Whitespace Command

    ✓ remove trailing whitespace

  WordOperations

    ✓ cursorWordLeft - simple

    ✓ cursorWordLeft - with selection

    ✓ cursorWordLeft - issue #832

    ✓ cursorWordLeft - issue #48046: Word selection doesn't work as usual

    ✓ cursorWordStartLeft

    ✓ cursorWordStartLeft - issue #51119: regression makes VS compatibility impossible

    ✓ cursorWordEndLeft

    ✓ cursorWordRight - simple

    ✓ cursorWordRight - selection

    ✓ cursorWordRight - issue #832

    ✓ cursorWordRight - issue #41199

    ✓ moveWordEndRight

    ✓ moveWordStartRight

    ✓ issue #51119: cursorWordStartRight regression makes VS compatibility impossible

    ✓ deleteWordLeft for non-empty selection

    ✓ deleteWordLeft for cursor at beginning of document

    ✓ deleteWordLeft for cursor at end of whitespace

    ✓ deleteWordLeft for cursor just behind a word

    ✓ deleteWordLeft for cursor inside of a word

    ✓ deleteWordRight for non-empty selection

    ✓ deleteWordRight for cursor at end of document

    ✓ deleteWordRight for cursor at beggining of whitespace

    ✓ deleteWordRight for cursor just before a word

    ✓ deleteWordRight for cursor inside of a word

    ✓ deleteWordLeft - issue #832

    ✓ deleteWordStartLeft

    ✓ deleteWordEndLeft

    ✓ deleteWordLeft - issue #24947

    ✓ deleteWordRight - issue #832

    ✓ deleteWordRight - issue #3882

    ✓ deleteWordStartRight - issue #3882

    ✓ deleteWordEndRight - issue #3882

    ✓ deleteWordStartRight

    ✓ deleteWordEndRight

    ✓ deleteWordRight - issue #3882 (1): Ctrl+Delete removing entire line when used at the end of line

    ✓ deleteWordLeft - issue #3882 (2): Ctrl+Delete removing entire line when used at the end of line

  WordPartOperations

    ✓ cursorWordPartLeft - basic

    ✓ cursorWordPartLeft - issue #53899: whitespace

    ✓ cursorWordPartLeft - issue #53899: underscores

    ✓ cursorWordPartRight - basic

    ✓ cursorWordPartRight - issue #53899: whitespace

    ✓ cursorWordPartRight - issue #53899: underscores

    ✓ cursorWordPartRight - issue #53899: second case

    ✓ deleteWordPartLeft - basic

    ✓ deleteWordPartRight - basic

  Files - View Model

    ✓ Properties

    ✓ Add and Remove Child, check for hasChild

    ✓ Move

    ✓ Rename

    ✓ Find

    ✓ Find with mixed case

    ✓ Validate File Name (For Create)

    ✓ Validate File Name (For Rename)

    ✓ Validate Multi-Path File Names

    ✓ Merge Local with Disk

  Files - Increment file name

    ✓ Increment file name without any version

    ✓ Increment folder name without any version

    ✓ Increment file name with suffix version

    ✓ Increment file name with suffix version with trailing zeros

    ✓ Increment file name with suffix version with trailing zeros, changing length

    ✓ Increment file name with suffix version with `-` as separator

    ✓ Increment file name with suffix version with `-` as separator, trailing zeros

    ✓ Increment file name with suffix version with `-` as separator, trailing zeros, changnig length

    ✓ Increment file name with suffix version with `_` as separator

    ✓ Increment folder name with suffix version

    ✓ Increment folder name with suffix version, trailing zeros

    ✓ Increment folder name with suffix version with `-` as separator

    ✓ Increment folder name with suffix version with `_` as separator

    ✓ Increment file name with suffix version, too big number

    ✓ Increment folder name with suffix version, too big number

    ✓ Increment file name with prefix version

    ✓ Increment file name with just version in name

    ✓ Increment file name with just version in name, too big number

    ✓ Increment file name with prefix version, trailing zeros

    ✓ Increment file name with prefix version with `-` as separator

    ✓ Increment file name with prefix version with `-` as separator

    ✓ Increment file name with prefix version, too big number

    ✓ Increment folder name with prefix version

    ✓ Increment folder name with prefix version, too big number

    ✓ Increment folder name with prefix version, trailing zeros

    ✓ Increment folder name with prefix version  with `-` as separator

  QuickOpen

    ✓ QuickOpen Handler and Registry

    ✓ QuickOpen Action

  BackupMainService

    ✓ service validates backup workspaces on startup and cleans up (folder workspaces) (211ms)

    ✓ service validates backup workspaces on startup and cleans up (root workspaces) (203ms)

    ✓ service supports to migrate backup data from another location (42ms)

    ✓ service backup migration makes sure to preserve existing backups (50ms)
    migrate folderPath to folderURI

      ✓ migration makes sure to preserve existing backups (64ms)
    loadSync

      ✓ getFolderBackupPaths() should return [] when workspaces.json doesn't exist

      ✓ getFolderBackupPaths() should return [] when workspaces.json is not properly formed JSON (59ms)

      ✓ getFolderBackupPaths() should return [] when folderWorkspaces in workspaces.json is absent

      ✓ getFolderBackupPaths() should return [] when folderWorkspaces in workspaces.json is not a string array (143ms)

      ✓ getFolderBackupPaths() should return [] when files.hotExit = "onExitAndWindowClose"

      ✓ getWorkspaceBackups() should return [] when workspaces.json doesn't exist

      ✓ getWorkspaceBackups() should return [] when workspaces.json is not properly formed JSON (58ms)

      ✓ getWorkspaceBackups() should return [] when folderWorkspaces in workspaces.json is absent

      ✓ getWorkspaceBackups() should return [] when rootWorkspaces in workspaces.json is not a object array (148ms)

      ✓ getWorkspaceBackups() should return [] when files.hotExit = "onExitAndWindowClose"

      ✓ getEmptyWorkspaceBackupPaths() should return [] when workspaces.json doesn't exist

      ✓ getEmptyWorkspaceBackupPaths() should return [] when workspaces.json is not properly formed JSON (60ms)

      ✓ getEmptyWorkspaceBackupPaths() should return [] when folderWorkspaces in workspaces.json is absent

      ✓ getEmptyWorkspaceBackupPaths() should return [] when folderWorkspaces in workspaces.json is not a string array (140ms)
    dedupeFolderWorkspaces

      ✓ should ignore duplicates (folder workspace) (61ms)

      ✓ should ignore duplicates on Windows and Mac (folder workspace) (55ms)

      ✓ should ignore duplicates on Windows and Mac (root workspace) (76ms)
    registerWindowForBackups

      ✓ should persist paths to workspaces.json (folder workspace)

      ✓ should persist paths to workspaces.json (root workspace)

      ✓ should always store the workspace path in workspaces.json using the case given, regardless of whether the file system is case-sensitive (folder workspace)

      ✓ should always store the workspace path in workspaces.json using the case given, regardless of whether the file system is case-sensitive (root workspace)
    removeBackupPathSync

      ✓ should remove folder workspaces from workspaces.json (folder workspace) (71ms)

      ✓ should remove folder workspaces from workspaces.json (root workspace) (81ms)

      ✓ should remove empty workspaces from workspaces.json (69ms)

      ✓ should fail gracefully when removing a path that doesn't exist (69ms)
    getWorkspaceHash

      ✓ should ignore case on Windows and Mac
    mixed path casing

      ✓ should handle case insensitive paths properly (registerWindowForBackupsSync) (folder workspace)

      ✓ should handle case insensitive paths properly (registerWindowForBackupsSync) (root workspace)

      ✓ should handle case insensitive paths properly (removeBackupPathSync) (folder workspace) (67ms)

  Extension Gallery Service

    ✓ marketplace machine id

  URI Label

    ✓ file scheme

    ✓ custom scheme

  StateService

    ✓ Basics (72ms)

  Telemetry - common properties

    ✓ default

    ✓ lastSessionDate when aviablale

    ✓ values chance on ask

  WorkspacesMainService

    ✓ createWorkspace (folders)

    ✓ createWorkspace (folders with name)

    ✓ createWorkspace (folders as other resource URIs)

    ✓ createWorkspaceSync (folders)

    ✓ createWorkspaceSync (folders with names)

    ✓ createWorkspaceSync (folders as other resource URIs)

    ✓ resolveWorkspaceSync

    ✓ resolveWorkspaceSync (support relative paths)

    ✓ resolveWorkspaceSync (support relative paths #2)

    ✓ resolveWorkspaceSync (support relative paths #3)

    ✓ resolveWorkspaceSync (support invalid JSON via fault tolerant parsing)

    ✓ saveWorkspace (untitled) (45ms)

    ✓ saveWorkspace (saved workspace) (67ms)

    ✓ saveWorkspace (saved workspace, preserves comments) (69ms)

    ✓ saveWorkspace (saved workspace, preserves forward slashes) (72ms)

    ✓ deleteUntitledWorkspaceSync (untitled)

    ✓ deleteUntitledWorkspaceSync (saved) (39ms)

    ✓ getUntitledWorkspaceSync (43ms)

  Debug - ANSI Handling

    ✓ appendStylizedStringToContainer

    ✓ Expected single sequence operation

    ✓ Expected multiple sequence operation

    ✓ Invalid codes treated as regular text

    ✓ Empty sequence output

  Experiment Service

    ✓ Simple Experiment Test

    ✓ Insiders only experiment shouldnt be enabled in stable

    ✓ Experiment with no matching display language should be disabled

    ✓ Experiment with condition type InstalledExtensions is enabled when one of the expected extensions is installed

    ✓ Experiment with condition type InstalledExtensions is disabled when none of the expected extensions is installed

    ✓ Experiment with condition type InstalledExtensions is disabled when one of the exlcuded extensions is installed

    ✓ Experiment that is marked as complete should be disabled regardless of the conditions

    ✓ Experiment with evaluate only once should read enablement from storage service

    ✓ Curated list should be available if experiment is enabled.

    ✓ Curated list shouldnt be available if experiment is disabled.

    ✓ Experiment that is disabled or deleted should be removed from storage

    ✓ Offline mode

    ✓ getExperimentByType

    ✓ experimentsPreviouslyRun includes, excludes check

  Experimental Prompts

    ✓ Show experimental prompt if experiment should be run. Choosing option with link should mark experiment as complete

    ✓ Show experimental prompt if experiment should be run. Choosing negative option should mark experiment as complete

    ✓ Show experimental prompt if experiment should be run. Cancelling should mark experiment as complete

  ExtensionsActions Test

    ✓ Install action is disabled when there is no extension

    ✓ Test Install action when state is installed

    ✓ Test Install action when state is installing

    ✓ Test Install action when state is uninstalled

    ✓ Test Install action when extension is system action

    ✓ Test Install action when extension doesnot has gallery

    ✓ Uninstall action is disabled when there is no extension

    ✓ Test Uninstall action when state is uninstalling

    ✓ Test Uninstall action when state is installed and is user extension

    ✓ Test Uninstall action when state is installed and is system extension

    ✓ Test Uninstall action when state is installing and is user extension

    ✓ Test Uninstall action after extension is installed

    ✓ Test CombinedInstallAction when there is no extension

    ✓ Test CombinedInstallAction when extension is system extension

    ✓ Test CombinedInstallAction when installAction is enabled

    ✓ Test CombinedInstallAction when unInstallAction is enabled

    ✓ Test CombinedInstallAction when state is installing

    ✓ Test CombinedInstallAction when state is installing during update

    ✓ Test CombinedInstallAction when state is uninstalling

    ✓ Test UpdateAction when there is no extension

    ✓ Test UpdateAction when extension is uninstalled

    ✓ Test UpdateAction when extension is installed and not outdated

    ✓ Test UpdateAction when extension is installed outdated and system extension

    ✓ Test UpdateAction when extension is installed outdated and user extension

    ✓ Test UpdateAction when extension is installing and outdated and user extension

    ✓ Test ManageExtensionAction when there is no extension

    ✓ Test ManageExtensionAction when extension is installed

    ✓ Test ManageExtensionAction when extension is uninstalled

    ✓ Test ManageExtensionAction when extension is installing

    ✓ Test ManageExtensionAction when extension is queried from gallery and installed

    ✓ Test ManageExtensionAction when extension is system extension

    ✓ Test ManageExtensionAction when extension is uninstalling

    ✓ Test EnableForWorkspaceAction when there is no extension

    ✓ Test EnableForWorkspaceAction when there extension is not disabled

    ✓ Test EnableForWorkspaceAction when the extension is disabled globally

    ✓ Test EnableForWorkspaceAction when extension is disabled for workspace

    ✓ Test EnableForWorkspaceAction when the extension is disabled globally and workspace

    ✓ Test EnableGloballyAction when there is no extension

    ✓ Test EnableGloballyAction when the extension is not disabled

    ✓ Test EnableGloballyAction when the extension is disabled for workspace

    ✓ Test EnableGloballyAction when the extension is disabled globally

    ✓ Test EnableGloballyAction when the extension is disabled in both

    ✓ Test EnableAction when there is no extension

    ✓ Test EnableAction when extension is installed and enabled

    ✓ Test EnableAction when extension is installed and disabled globally

    ✓ Test EnableAction when extension is installed and disabled for workspace

    ✓ Test EnableAction when extension is uninstalled

    ✓ Test EnableAction when extension is installing

    ✓ Test EnableAction when extension is uninstalling

    ✓ Test DisableForWorkspaceAction when there is no extension

    ✓ Test DisableForWorkspaceAction when the extension is disabled globally

    ✓ Test DisableForWorkspaceAction when the extension is disabled workspace

    ✓ Test DisableForWorkspaceAction when extension is enabled

    ✓ Test DisableGloballyAction when there is no extension

    ✓ Test DisableGloballyAction when the extension is disabled globally

    ✓ Test DisableGloballyAction when the extension is disabled for workspace

    ✓ Test DisableGloballyAction when the extension is enabled

    ✓ Test DisableAction when there is no extension

    ✓ Test DisableAction when extension is installed and enabled

    ✓ Test DisableAction when extension is installed and disabled globally

    ✓ Test DisableAction when extension is installed and disabled for workspace

    ✓ Test DisableAction when extension is uninstalled

    ✓ Test DisableAction when extension is installing

    ✓ Test DisableAction when extension is uninstalling

    ✓ Test UpdateAllAction when no installed extensions

    ✓ Test UpdateAllAction when installed extensions are not outdated

    ✓ Test UpdateAllAction when some installed extensions are outdated

    ✓ Test UpdateAllAction when some installed extensions are outdated and some outdated are being installed

    ✓ Test UpdateAllAction when some installed extensions are outdated and all outdated are being installed

    ✓ Test ReloadAction when there is no extension

    ✓ Test ReloadAction when extension state is installing

    ✓ Test ReloadAction when extension state is uninstalling

    ✓ Test ReloadAction when extension is newly installed

    ✓ Test ReloadAction when extension is installed and uninstalled

    ✓ Test ReloadAction when extension is uninstalled

    ✓ Test ReloadAction when extension is uninstalled and installed

    ✓ Test ReloadAction when extension is updated while running

    ✓ Test ReloadAction when extension is updated when not running

    ✓ Test ReloadAction when extension is disabled when running

    ✓ Test ReloadAction when extension enablement is toggled when running

    ✓ Test ReloadAction when extension is enabled when not running

    ✓ Test ReloadAction when extension enablement is toggled when not running

    ✓ Test ReloadAction when extension is updated when not running and enabled

    ✓ RecommendToFolderAction

  ExtensionsListView Tests

    ✓ Test query types

    ✓ Test installed query results

    ✓ Test installed query with category

    ✓ Test @recommended:workspace query

    ✓ Test @recommended query

    ✓ Test @recommended:all query

    ✓ Test curated list experiment

    ✓ Test search

    ✓ Test preferred search experiment

  ExtensionsTipsService Test

    ✓ ExtensionTipsService: No Prompt for valid workspace recommendations when galleryService is absent

    ✓ ExtensionTipsService: No Prompt for valid workspace recommendations during extension development

    ✓ ExtensionTipsService: No workspace recommendations or prompts when extensions.json has empty array

    ✓ ExtensionTipsService: Prompt for valid workspace recommendations

    ✓ ExtensionTipsService: No Prompt for valid workspace recommendations if they are already installed

    ✓ ExtensionTipsService: No Prompt for valid workspace recommendations with casing mismatch if they are already installed

    ✓ ExtensionTipsService: No Prompt for valid workspace recommendations if ignoreRecommendations is set

    ✓ ExtensionTipsService: No Prompt for valid workspace recommendations if showRecommendationsOnlyOnDemand is set

    ✓ ExtensionTipsService: No Prompt for valid workspace recommendations if ignoreRecommendations is set for current workspace

    ✓ ExtensionTipsService: No Recommendations of globally ignored recommendations

    ✓ ExtensionTipsService: No Recommendations of workspace ignored recommendations

    ✓ ExtensionTipsService: Able to retrieve collection of all ignored recommendations

    ✓ ExtensionTipsService: Able to dynamically ignore/unignore global recommendations

    ✓ test global extensions are modified and recommendation change event is fired when an extension is ignored

    ✓ ExtensionTipsService: Get file based recommendations from storage (old format)

    ✓ ExtensionTipsService: Get file based recommendations from storage (new format)

  ExtensionsWorkbenchServiceTest

    ✓ test gallery extension

    ✓ test for empty installed extensions

    ✓ test for installed extensions

    ✓ test installed extensions get syncs with gallery

    ✓ test extension state computation

    ✓ test extension doesnot show outdated for system extensions

    ✓ test canInstall returns false for extensions with out gallery

    ✓ test canInstall returns false for a system extension

    ✓ test canInstall returns true for extensions with gallery

    ✓ test onchange event is triggered while installing

    ✓ test onchange event is triggered when installation is finished

    ✓ test onchange event is triggered while uninstalling

    ✓ test onchange event is triggered when uninstalling is finished

    ✓ test extension dependencies when empty

    ✓ test one level extension dependencies without cycle

    ✓ test one level extension dependencies with cycle

    ✓ test one level extension dependencies with missing dependencies

    ✓ test one level extension dependencies with in built dependencies

    ✓ test more than one level of extension dependencies

    ✓ test uninstalled extensions are always enabled

    ✓ test enablement state installed enabled extension

    ✓ test workspace disabled extension

    ✓ test globally disabled extension

    ✓ test enablement state is updated for user extensions

    ✓ test enable extension globally when extension is disabled for workspace

    ✓ test disable extension globally

    ✓ test system extensions can be disabled

    ✓ test enablement state is updated on change from outside

    ✓ test disable extension with dependencies disable only itself

    ✓ test disable extension pack disables the pack

    ✓ test disable extension pack disable all

    ✓ test disable extension fails if extension is a dependent of other

    ✓ test disable extension when extension is part of a pack

    ✓ test disable both dependency and dependent do not promot and do not fail

    ✓ test enable both dependency and dependent do not promot and do not fail

    ✓ test disable extension does not fail if its dependency is a dependent of other but chosen to disable only itself

    ✓ test disable extension if its dependency is a dependent of other disabled extension

    ✓ test disable extension if its dependencys dependency is itself

    ✓ test disable extension if its dependency is dependent and is disabled

    ✓ test disable extension with cyclic dependencies

    ✓ test enable extension with dependencies enable all

    ✓ test enable extension with dependencies does not prompt if dependency is enabled already

    ✓ test enable extension with dependency does not prompt if both are enabled

    ✓ test enable extension with cyclic dependencies

    ✓ test change event is fired when disablement flags are changed

    ✓ test change event is fired when disablement flags are changed from outside

  Files - FileEditorTracker

    ✓ file change event updates model

  Files - FileEditorInput

    ✓ Basics

    ✓ matches

    ✓ getEncoding/setEncoding

    ✓ save

    ✓ revert

    ✓ resolve handles binary files

    ✓ resolve handles too large files

  MarkersModel Test

    ✓ getFilteredResource return markers grouped by resource

    ✓ sort palces resources with no errors at the end

    ✓ sort resources by file path

    ✓ sort markers by severity, line and column

    ✓ toString()

  Workbench - OutputWorker

    ✓ OutputWorker - Link detection

  Search - Viewlet

    ✓ Data Source

    ✓ Sorter

  QueryBuilder

    ✓ simple text pattern

    ✓ folderResources

    ✓ simple exclude setting

    ✓ simple include

    ✓ exclude setting and searchPath

    ✓ multiroot exclude settings

    ✓ simple exclude input pattern

    ✓ file pattern trimming

    ✓ exclude ./ syntax

    ✓ extraFileResources
    parseSearchPaths

      ✓ simple includes

      ✓ absolute includes

      ✓ includes with tilde

      ✓ relative includes w/single root folder

      ✓ relative includes w/two root folders

      ✓ include ./foldername

      ✓ relative includes w/multiple ambiguous root folders
    smartCase

      ✓ no flags -> no change

      ✓ maintains isCaseSensitive when smartCase not set

      ✓ maintains isCaseSensitive when smartCase set

      ✓ smartCase determines not case sensitive

      ✓ smartCase determines case sensitive

      ✓ smartCase determines not case sensitive (regex)

      ✓ smartCase determines case sensitive (regex)
    file

      ✓ simple file query

  MenuService

    ✓ group sorting

    ✓ in group sorting, by title

    ✓ in group sorting, by title and order

    ✓ in group sorting, special: navigation

    ✓ special MenuId palette

  BackupFileService

    ✓ resolveBackupContent
    getBackupResource

      ✓ should get the correct backup path for text files

      ✓ should get the correct backup path for untitled files
    loadBackupResource

      ✓ should return whether a backup resource exists
    backupResource

      ✓ text file

      ✓ untitled file

      ✓ text file (ITextSnapshot)

      ✓ untitled file (ITextSnapshot)

      ✓ text file (large file, ITextSnapshot)

      ✓ untitled file (large file, ITextSnapshot)
    discardResourceBackup

      ✓ text file

      ✓ untitled file
    discardAllWorkspaceBackups

      ✓ text file (41ms)

      ✓ untitled file

      ✓ should disable further backups
    getWorkspaceFileBackups

      ✓ ("file") - text file (40ms)

      ✓ ("file") - untitled file

      ✓ ("untitled") - untitled file

  BackupFilesModel

    ✓ simple

    ✓ resolve

    ✓ get

  ConfigurationEditingService

    ✓ errors cases - invalid key

    ✓ errors cases - invalid target

    ✓ errors cases - no workspace

    ✓ errors cases - invalid configuration

    ✓ errors cases - dirty

    ✓ dirty error is not thrown if not asked to save

    ✓ do not notify error

    ✓ write one setting - empty file (40ms)

    ✓ write one setting - existing file

    ✓ remove an existing setting - existing file

    ✓ remove non existing setting - existing file

    ✓ write workspace standalone setting - empty file (48ms)

    ✓ write workspace standalone setting - existing file

    ✓ write workspace standalone setting - empty file - full JSON (54ms)

    ✓ write workspace standalone setting - existing file - full JSON

    ✓ write workspace standalone setting - existing file with JSON errors - full JSON

    ✓ write workspace standalone setting should replace complete file

  WorkspaceContextService - Folder

    ✓ getWorkspace()

    ✓ getWorkbenchState()

    ✓ getWorkspaceFolder()

    ✓ isCurrentWorkspace() => true

    ✓ isCurrentWorkspace() => false

  WorkspaceContextService - Workspace

    ✓ workspace folders

    ✓ add folders (77ms)

    ✓ add folders (at specific index) (74ms)

    ✓ add folders (at specific wrong index) (75ms)

    ✓ add folders (with name) (77ms)

    ✓ add folders triggers change event (73ms)

    ✓ remove folders

    ✓ remove folders triggers change event

    ✓ remove folders and add them back by writing into the file (422ms)

    ✓ update folders (remove last and add to end) (75ms)

    ✓ update folders (rename first via add and remove)

    ✓ update folders (remove first and add to end) (73ms)

    ✓ reorder folders trigger change event (81ms)

    ✓ rename folders trigger change event (75ms)

  WorkspaceService - Initialization

    ✓ initialize a folder workspace from an empty workspace with no configuration changes (66ms)

    ✓ initialize a folder workspace from an empty workspace with configuration changes (66ms)

    ✓ initialize a multi root workspace from an empty workspace with no configuration changes (78ms)

    ✓ initialize a multi root workspace from an empty workspace with configuration changes (87ms)

    ✓ initialize a folder workspace from a folder workspace with no configuration changes (247ms)

    ✓ initialize a folder workspace from a folder workspace with configuration changes (122ms)

    ✓ initialize a multi folder workspace from a folder workspacce triggers change events in the right order (130ms)

  WorkspaceConfigurationService - Folder

    ✓ defaults

    ✓ globals override defaults (130ms)

    ✓ globals (115ms)

    ✓ workspace settings (120ms)

    ✓ workspace settings override user settings (124ms)

    ✓ workspace settings override user settings after defaults are registered  (122ms)

    ✓ application settings are not read from workspace (128ms)

    ✓ get application scope settings are not loaded after defaults are registered (124ms)

    ✓ reload configuration emits events after global configuraiton changes (123ms)

    ✓ reload configuration emits events after workspace configuraiton changes (122ms)

    ✓ reload configuration should not emit event if no changes (259ms)

    ✓ inspect (252ms)

    ✓ keys (247ms)

    ✓ update user configuration (42ms)

    ✓ update workspace configuration (89ms)

    ✓ update application setting into workspace configuration in a workspace is not supported

    ✓ update tasks configuration (100ms)

    ✓ update user configuration should trigger change event before promise is resolve (53ms)

    ✓ update workspace configuration should trigger change event before promise is resolve (102ms)

    ✓ update task configuration should trigger change event before promise is resolve (97ms)

  WorkspaceConfigurationService-Multiroot

    ✓ application settings are not read from workspace (85ms)

    ✓ workspace settings override user settings after defaults are registered  (89ms)

    ✓ application settings are not read from workspace folder (74ms)

    ✓ application settings are not read from workspace folder after defaults are registered (77ms)

    ✓ resource setting in folder is read after it is registered later (91ms)

    ✓ inspect (249ms)

    ✓ get launch configuration (89ms)

    ✓ inspect launch configuration (81ms)

    ✓ update user configuration

    ✓ update user configuration should trigger change event before promise is resolve (38ms)

    ✓ update workspace configuration

    ✓ update workspace configuration should trigger change event before promise is resolve

    ✓ update application setting into workspace configuration in a workspace is not supported

    ✓ update workspace folder configuration (109ms)

    ✓ update workspace folder configuration should trigger change event before promise is resolve (91ms)

    ✓ update workspace folder configuration second time should trigger change event before promise is resolve (190ms)

    ✓ update tasks configuration in a folder (98ms)

    ✓ update tasks configuration in a workspace is not supported

    ✓ update launch configuration in a workspace

    ✓ task configurations are not read from workspace (93ms)

  Configuration Resolver Service

    ✓ substitute one

    ✓ workspace root folder name

    ✓ substitute many

    ✓ substitute one env variable

    ✓ substitute many env variable

    ✓ substitute one env variable using platform case sensitivity

    ✓ substitute one configuration variable

    ✓ substitute many configuration variables

    ✓ substitute one env variable and a configuration variable

    ✓ substitute many env variable and a configuration variable

    ✓ mixed types of configuration variables

    ✓ uses original variable as fallback

    ✓ configuration variables with invalid accessor

    ✓ a single command variable

    ✓ an old style command variable

    ✓ multiple new and old-style command variables

    ✓ a command variable that relies on resolved env vars

  FileService

    ✓ createFile

    ✓ createFile (does not overwrite by default)

    ✓ createFile (allows to overwrite existing)

    ✓ createFolder

    ✓ createFolder: creating multiple folders at once

    ✓ renameFile

    ✓ renameFile - multi folder

    ✓ renameFolder

    ✓ renameFolder - multi folder

    ✓ renameFile - MIX CASE

    ✓ moveFile

    ✓ move - source parent of target

    ✓ move - FILE_MOVE_CONFLICT

    ✓ moveFile - MIX CASE

    ✓ moveFile - overwrite folder with file

    ✓ copyFile

    ✓ copyFile - overwrite folder with file

    ✓ copyFile - MIX CASE

    ✓ copyFile - same file

    ✓ deleteFile

    ✓ deleteFolder (recursive)

    ✓ deleteFolder (non recursive)

    ✓ resolveFile

    ✓ resolveFiles

    ✓ existsFile

    ✓ updateContent

    ✓ updateContent (ITextSnapShot)

    ✓ updateContent (large file)

    ✓ updateContent (large file, ITextSnapShot)

    ✓ updateContent - use encoding (UTF 16 BE)

    ✓ updateContent - use encoding (UTF 16 BE, ITextSnapShot)

    ✓ updateContent - encoding preserved (UTF 16 LE)

    ✓ updateContent - encoding preserved (UTF 16 LE, ITextSnapShot)

    ✓ resolveContent - large file

    ✓ Files are intermingled #38331

    ✓ resolveContent - FILE_IS_BINARY

    ✓ resolveContent - FILE_IS_DIRECTORY

    ✓ resolveContent - FILE_NOT_FOUND

    ✓ resolveContent - FILE_NOT_MODIFIED_SINCE

    ✓ resolveContent - FILE_MODIFIED_SINCE

    ✓ resolveContent - encoding picked up

    ✓ resolveContent - user overrides BOM

    ✓ resolveContent - BOM removed

    ✓ resolveContent - invalid encoding

    ✓ watchFileChanges (160ms)

    ✓ watchFileChanges - support atomic save (153ms)

    ✓ options - encoding override (parent) (46ms)

    ✓ options - encoding override (extension) (45ms)

    ✓ UTF 8 BOMs (104ms)

    ✓ resolveContent - from position (ASCII)

    ✓ resolveContent - from position (with umlaut)

  KeybindingsEditing

    ✓ errors cases - parse errors

    ✓ errors cases - parse errors 2

    ✓ errors cases - dirty

    ✓ errors cases - did not find an array

    ✓ edit a default keybinding to an empty file

    ✓ edit a default keybinding to a non existing keybindings file (52ms)

    ✓ edit a default keybinding to an empty array

    ✓ edit a default keybinding in an existing array

    ✓ add a new default keybinding

    ✓ edit an user keybinding

    ✓ edit an user keybinding with more than one element (77ms)

    ✓ remove a default keybinding (44ms)

    ✓ remove a user keybinding

    ✓ reset an edited keybinding

    ✓ reset a removed keybinding

    ✓ reset mulitple removed keybindings

    ✓ add a new keybinding to unassigned keybinding

  Files - TextFileEditorModel

    ✓ Save

    ✓ setEncoding - encode

    ✓ setEncoding - decode

    ✓ disposes when underlying model is destroyed

    ✓ Load does not trigger save

    ✓ Load returns dirty model as long as model is dirty

    ✓ Revert

    ✓ Revert (soft)

    ✓ Load and undo turns model dirty

    ✓ File not modified error is handled gracefully

    ✓ Load error is handled gracefully if model already exists

    ✓ save() and isDirty() - proper with check for mtimes

    ✓ Save Participant

    ✓ Save Participant, async participant (43ms)

    ✓ Save Participant, bad participant

    ✓ SaveSequentializer - pending basics

    ✓ SaveSequentializer - pending and next (finishes instantly)

    ✓ SaveSequentializer - pending and next (finishes after timeout)

    ✓ SaveSequentializer - pending and multiple next (last one wins)

  Files - TextFileEditorModelManager

    ✓ add, remove, clear, get, getAll

    ✓ loadOrCreate

    ✓ removed from cache when model disposed

    ✓ events

    ✓ events debounced

    ✓ disposing model takes it out of the manager

    ✓ dispose prevents dirty model from getting disposed

  Files - TextFileService

    ✓ confirm onWillShutdown - no veto

    ✓ confirm onWillShutdown - veto if user cancels

    ✓ confirm onWillShutdown - no veto and backups cleaned up if user does not want to save (hot.exit: off)

    ✓ confirm onWillShutdown - save (hot.exit: off)

    ✓ isDirty/getDirty - files and untitled

    ✓ save - file

    ✓ save - UNC path

    ✓ saveAll - file

    ✓ saveAs - file

    ✓ revert - file

    ✓ delete - dirty file

    ✓ move - dirty file
    Hot Exit
      "onExit" setting

        ✓ should hot exit on non-Mac (reason: CLOSE, windows: single, workspace)

        ✓ should hot exit on non-Mac (reason: CLOSE, windows: single, empty workspace)

        ✓ should NOT hot exit (reason: CLOSE, windows: multiple, workspace)

        ✓ should NOT hot exit (reason: CLOSE, windows: multiple, empty workspace)

        ✓ should hot exit (reason: QUIT, windows: single, workspace)

        ✓ should hot exit (reason: QUIT, windows: single, empty workspace)

        ✓ should hot exit (reason: QUIT, windows: multiple, workspace)

        ✓ should hot exit (reason: QUIT, windows: multiple, empty workspace) (40ms)

        ✓ should hot exit (reason: RELOAD, windows: single, workspace)

        ✓ should hot exit (reason: RELOAD, windows: single, empty workspace)

        ✓ should hot exit (reason: RELOAD, windows: multiple, workspace)

        ✓ should hot exit (reason: RELOAD, windows: multiple, empty workspace)

        ✓ should NOT hot exit (reason: LOAD, windows: single, workspace)

        ✓ should NOT hot exit (reason: LOAD, windows: single, empty workspace)

        ✓ should NOT hot exit (reason: LOAD, windows: multiple, workspace)

        ✓ should NOT hot exit (reason: LOAD, windows: multiple, empty workspace)
      "onExitAndWindowClose" setting

        ✓ should hot exit (reason: CLOSE, windows: single, workspace)

        ✓ should hot exit (reason: CLOSE, windows: single, empty workspace)

        ✓ should hot exit (reason: CLOSE, windows: multiple, workspace)

        ✓ should NOT hot exit (reason: CLOSE, windows: multiple, empty workspace)

        ✓ should hot exit (reason: QUIT, windows: single, workspace)

        ✓ should hot exit (reason: QUIT, windows: single, empty workspace)

        ✓ should hot exit (reason: QUIT, windows: multiple, workspace)

        ✓ should hot exit (reason: QUIT, windows: multiple, empty workspace)

        ✓ should hot exit (reason: RELOAD, windows: single, workspace)

        ✓ should hot exit (reason: RELOAD, windows: single, empty workspace)

        ✓ should hot exit (reason: RELOAD, windows: multiple, workspace)

        ✓ should hot exit (reason: RELOAD, windows: multiple, empty workspace)

        ✓ should hot exit (reason: LOAD, windows: single, workspace)

        ✓ should NOT hot exit (reason: LOAD, windows: single, empty workspace)

        ✓ should hot exit (reason: LOAD, windows: multiple, workspace)

        ✓ should NOT hot exit (reason: LOAD, windows: multiple, empty workspace)

  Workbench - TextModelResolverService

    ✓ resolve resource

    ✓ resolve file

    ✓ resolve untitled

    ✓ even loading documents should be refcounted

  Breadcrumb Model

    ✓ only uri, inside workspace

    ✓ only uri, outside workspace

  Workbench base editor

    ✓ BaseEditor API

    ✓ EditorDescriptor

    ✓ Editor Registration

    ✓ Editor Lookup favors specific class over superclass (match on specific class)

    ✓ Editor Lookup favors specific class over superclass (match on super class)

    ✓ Editor Input Factory

    ✓ EditorMemento - basics

    ✓ EditoMemento - use with editor input

  ContributableViewsModel

    ✓ empty model

    ✓ register/unregister

    ✓ when contexts (95ms)

    ✓ when contexts - multiple

    ✓ when contexts - multiple 2

    ✓ setVisible

    ✓ move

  Editor - Range decorations

    ✓ highlight range for the resource if it is an active editor

    ✓ remove highlight range

    ✓ highlight range for the resource removes previous highlight

    ✓ highlight range for a new resource removes highlight of previous resource

    ✓ highlight is removed on model change

    ✓ highlight is removed on cursor position change

    ✓ range is not highlight if not active editor

    ✓ previous highlight is not removed if not active editor

  DataUriEditorInput

    ✓ simple

  Workbench editor

    ✓ toResource

  Workbench editor model

    ✓ TextDiffEditorModel

  Workbench editor groups

    ✓ Clone Group

    ✓ contains() with diff editor support

    ✓ group serialization

    ✓ One Editor

    ✓ Multiple Editors - Pinned and Active

    ✓ Multiple Editors - Preview editor moves to the side of the active one

    ✓ Multiple Editors - Pinned and Active (DEFAULT_OPEN_EDITOR_DIRECTION = Direction.LEFT)

    ✓ Multiple Editors - Pinned and Not Active

    ✓ Multiple Editors - Preview gets overwritten

    ✓ Multiple Editors - set active

    ✓ Multiple Editors - pin and unpin

    ✓ Multiple Editors - closing picks next from MRU list

    ✓ Multiple Editors - move editor

    ✓ Multiple Editors - move editor across groups

    ✓ Multiple Editors - move editor across groups (input already exists in group 1)

    ✓ Multiple Editors - Pinned & Non Active

    ✓ Multiple Editors - Close Others, Close Left, Close Right

    ✓ Multiple Editors - real user example

    ✓ Single Group, Single Editor - persist

    ✓ Multiple Groups, Multiple editors - persist

    ✓ Single group, multiple editors - persist (some not persistable)

    ✓ Multiple groups, multiple editors - persist (some not persistable, causes empty group)

    ✓ Multiple Editors - Resources

    ✓ Multiple Editors - Editor Dispose

    ✓ Preview tab does not have a stable position (https://github.com/Microsoft/vscode/issues/8245)

    ✓ Multiple Editors - Editor Emits Dirty and Label Changed

  Workbench untitled editors

    ✓ Untitled Editor Service

    ✓ Untitled with associated resource

    ✓ Untitled no longer dirty when content gets empty

    ✓ Untitled via loadOrCreate

    ✓ Untitled suggest name

    ✓ Untitled with associated path remains dirty when content gets empty

    ✓ Untitled created with files.defaultLanguage setting

    ✓ Untitled created with modeId overrides files.defaultLanguage setting

    ✓ encoding change event

    ✓ onDidChangeContent event (44ms)

    ✓ onDidDisposeModel event

  Workbench resource editor input

    ✓ simple

  MainThreadDocumentsAndEditors

    ✓ Model#add

    ✓ ignore huge model (1638ms)

    ✓ ignore simple widget model

    ✓ ignore huge model from editor (1540ms)

    ✓ ignore editor w/o model

    ✓ editor with model

    ✓ editor with dispos-ed/-ing model

  MainThreadEditors

    ✓ applyWorkspaceEdit returns false if model is changed by user

    ✓ issue #54773: applyWorkspaceEdit checks model version in race situation

    ✓ applyWorkspaceEdit with only resource edit

  MainThreadSaveParticipant

    ✓ insert final new line

    ✓ trim final new lines

    ✓ trim final new lines bug#39750

    ✓ trim final new lines bug#46075

  ExtHostLanguageFeatures

    ✓ DocumentSymbols, register/deregister

    ✓ DocumentSymbols, evil provider

    ✓ DocumentSymbols, data conversion

    ✓ CodeLens, evil provider

    ✓ CodeLens, do not resolve a resolved lens

    ✓ CodeLens, missing command

    ✓ Definition, data conversion

    ✓ Definition, one or many

    ✓ Definition, registration order

    ✓ Definition, evil provider

    ✓ Implementation, data conversion

    ✓ Type Definition, data conversion

    ✓ HoverProvider, word range at pos

    ✓ HoverProvider, given range

    ✓ HoverProvider, registration order

    ✓ HoverProvider, evil provider

    ✓ Occurrences, data conversion

    ✓ Occurrences, order 1/2

    ✓ Occurrences, order 2/2

    ✓ Occurrences, evil provider

    ✓ References, registration order

    ✓ References, data conversion

    ✓ References, evil provider

    ✓ Quick Fix, command data conversion

    ✓ Quick Fix, code action data conversion

    ✓ Cannot read property 'id' of undefined, #29469

    ✓ Quick Fix, evil provider

    ✓ Navigate types, evil provider

    ✓ Rename, evil provider 0/2

    ✓ Rename, evil provider 1/2

    ✓ Rename, evil provider 2/2

    ✓ Rename, ordering

    ✓ Parameter Hints, order

    ✓ Parameter Hints, evil provider

    ✓ Suggest, order 1/3

    ✓ Suggest, order 2/3

    ✓ Suggest, order 2/3

    ✓ Suggest, evil provider

    ✓ Suggest, CompletionList

    ✓ Format Doc, data conversion

    ✓ Format Doc, evil provider

    ✓ Format Doc, order

    ✓ Format Range, data conversion

    ✓ Format Range, + format_doc

    ✓ Format Range, evil provider

    ✓ Format on Type, data conversion

    ✓ Links, data conversion

    ✓ Links, evil provider

    ✓ Document colors, data conversion

  Editor service

    ✓ basics (45ms)

    ✓ openEditors() / replaceEditors()

    ✓ caching

    ✓ createInput

    ✓ delegate

    ✓ close editor does not dispose when editor opened in other group

    ✓ open to the side

    ✓ active editor change / visible editor change events (84ms)

  Editor groups service

    ✓ groups basics

    ✓ groups labels

    ✓ copy/merge groups

    ✓ whenRestored

    ✓ options

    ✓ editor basics

    ✓ openEditors / closeEditors (38ms)

    ✓ closeEditors (except one)

    ✓ closeEditors (saved only)

    ✓ closeEditors (direction: right)

    ✓ closeEditors (direction: left)

    ✓ closeAllEditors

    ✓ moveEditor (same group)

    ✓ moveEditor (across groups)

    ✓ copyEditor (across groups)

    ✓ replaceEditors

    ✓ find neighbour group (left/right)

    ✓ find neighbour group (up/down)

    ✓ find group by location (left/right)

  Unexpected Errors & Loader Errors

    ✓ should not have unexpected errors


  4273 passing (45s)
  7 pending

